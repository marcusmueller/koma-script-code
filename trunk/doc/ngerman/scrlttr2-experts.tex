% ======================================================================
% scrlttr2-experts.tex
% Copyright (c) Markus Kohm, 2002-2019
%
% This file is part of the LaTeX2e KOMA-Script bundle.
%
% This work may be distributed and/or modified under the conditions of
% the LaTeX Project Public License, version 1.3c of the license.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX 
% version 2005/12/01 or later and of this work.
%
% This work has the LPPL maintenance status "author-maintained".
%
% The Current Maintainer and author of this work is Markus Kohm.
%
% This work consists of all files listed in manifest.txt.
% ----------------------------------------------------------------------
% scrlttr2-experts.tex
% Copyright (c) Markus Kohm, 2002-2019
%
% Diese Datei ist Teil der KOMA-Script-Sammlung für LaTeX2e.
%
% Dieses Werk darf nach den Bedingungen der LaTeX Project Public Lizenz,
% Version 1.3c, verteilt und/oder veraendert werden.
% Die neuste Version dieser Lizenz ist
%   http://www.latex-project.org/lppl.txt
% und Version 1.3c ist Teil aller Verteilungen von LaTeX
% Version 2005/12/01 oder spaeter und dieses Werks.
%
% Dieses Werk hat den LPPL-Verwaltungs-Status "author-maintained"
% (allein durch den Autor verwaltet).
%
% Der Aktuelle Verwalter und Autor dieses Werkes ist Markus Kohm.
% 
% Dieses Werk besteht aus den in manifest.txt aufgefuehrten Dateien.
% ======================================================================
%
% Chapter about scrlttr2 of the KOMA-Script guide expert part
% Maintained by Markus Kohm
%
% ----------------------------------------------------------------------
%
% Kapitel über scrlttr2 im Experten-Teil der KOMA-Script-Anleitung
% Verwaltet von Markus Kohm
%
% ============================================================================

\KOMAProvidesFile{scrlttr2-experts.tex}%
                 [$Date$
                  KOMA-Script guide (chapter: scrlttr2 for experts)]

\chapter{Zusätzliche Informationen zur
  Klasse \Class{scrlttr2} und Paket \Package{scrletter}}
\labelbase{scrlttr2-experts}

\BeginIndexGroup \BeginIndex{Class}{scrlttr2} In diesem Kapitel finden Sie
zusätzliche Informationen zu der \KOMAScript-Klasse \Class{scrlttr2}. %
\iffree{Einige Teile des Kapitels sind dabei dem \KOMAScript-Buch
  \cite{book:komascript} vorbehalten. Dies sollte kein Problem sein, denn
  der}{Der} %
Anwender, der die Klasse einfach nur verwenden will, wird diese Informationen
normalerweise nicht benötigen. Ein Teil der Informationen richtet sich an
Anwender, denen die vordefinierten Möglichkeiten nicht mehr genügen. So
befasst sich beispielsweise der erste Abschnitt ausführlich mit den
Pseudolängen, die den Briefbogen bestimmen und die für Anpassungen an eigene
Briefbogenlayouts abweichend zu setzen sind.%
\iffalse% Es wird Zeit das komplett rauszuwerfen!
\ Darüber hinaus finden
  sich in diesem Kapitel auch Informationen über Möglichkeiten, die aus
  Gründen der Verbesserung der Kompatibilität zur obsoleten \KOMAScript-Klasse
  \Class{scrlettr} geschaffen wurden. Es wird auch ausführlich erklärt, wie
  man einen Brief dieser veralteten Klasse auf die aktuelle Briefklasse
  übertragen kann.
\fi

\BeginIndex{Package}{scrletter}%
Darüber hinaus gibt es seit
\KOMAScript~3.15\ChangedAt[2014/11]{v3.15}{\Package{scrletter}} das Paket
\Package{scrletter}, das zusammen mit einer der \KOMAScript-Klassen
\Class{scrartcl}, \Class{scrreprt} oder \Class{scrbook} verwendet werden
kann. Es stellt nahezu die komplette Funktionalität von \Class{scrlttr2} für
die drei genannten Klassen zur Verfügung. Einige wenige Unterschiede gibt es
jedoch, die ebenfalls in diesem Kapitel genannt werden.%


\section{Pseudolängen für fortgeschrittene Anwender}
\seclabel{pseudoLengths}
\BeginIndexGroup
\BeginIndex{}{Pseudolängen}

\TeX{} arbeitet mit einem festen Satz an Registern. Es gibt Register für
Token, für Boxen, für Zähler, für Abstände (englisch: \emph{skip}) und für
Größen (englisch: \emph{dimension}). Von all diesen Registern gibt es jeweils
256~Stück. Für \LaTeX{}-Längen, die mit \Macro{newlength} angefordert werden,
werden Abstandsregister belegt. Sind alle diese Register verbraucht, kann man
keine weiteren Längen definieren. Sowohl \Class{scrlttr2} als auch
\Package{scrletter} würden normalerweise allein für die erste Seite mehr als
20 solche Register verbrauchen. \LaTeX{} selbst belegt bereits 40 dieser
Register. Das \hyperref[cha:typearea]{\Package{typearea}}%
\IndexPackage{typearea}-Paket benötigt ebenfalls einige, so dass ein Viertel
der kostbaren Register verbraucht wäre. Aus diesem Grund werden
briefspezifische Längen bei \KOMAScript{} eben nicht in Längen, sondern in
Makros abgelegt, den Pseudolängen. Der Nachteil dieses Vorgehens besteht
darin, dass man mit diesen Makros nicht so einfach rechnen kann wie mit echten
Längen.

Bitte beachten\textnote{Achtung!} Sie unbedingt, dass die Pseudolängen zwar
intern als Makros implementiert sind, bei den Befehlen zur Nutzung der
Pseudolängen jedoch nur die Namen anzugeben sind. Diese werden wie die Namen
von \LaTeX-Zählern und im Gegensatz zu Makros oder echten Längen ohne
umgekehrten Schrägstrich geschrieben!

Wer nun einwenden will, dass \LaTeX{} in der empfohlenen und für \KOMAScript{}
benötigten Installation mit \eTeX{} inzwischen das oben genannte
Beschränkungsproblem nicht mehr besitzt, hat Recht. Allerdings kam diese
Entscheidung für \Class{scrlttr2} ein wenig zu spät. Bei \Package{scrletter}
wurde das Konzept der Pseudolängen aus Gründen der Kompatibilität übernommen.

Eine Auf"|listung aller von \KOMAScript{} definierten und verwendeten
Pseudolängen ist \autoref{tab:scrlttr2-experts.pseudoLengths} zu
entnehmen. Dabei ist auch angegeben, wo in den nachfolgenden Unterabschnitten
nähere Erklärungen zu der jeweiligen Pseudolänge zu finden
sind.%|

\autoref{fig:scrlttr2-experts.pseudoLengths} auf
\autopageref{fig:scrlttr2-experts.pseudoLengths} zeigt eine schematische
Darstellung der wichtigsten Abstände auf dem Briefbogen. Dabei sind neben den
Pseudolängen für die veränderbaren Abstände zusätzlich in heller Schrift auch
die Längen angegeben, die für einige, wenige fest programmierte Abstände
verwendet werden. Aus Gründen der Übersichtlichkeit wurde in der Darstellung
auf einige weniger häufig benötigte Pseudolängen jedoch auch verzichtet.
%
\iffree{}{\enlargethispage*{\baselineskip}}% Umbruchkorrektur!!!
\begin{desclist}
  \renewcommand{\abovecaptionskipcorrection}{-\normalbaselineskip}%
  \desccaption{%
    Von \Class{scrlttr2} und \Package{scrletter} verwendete Pseudolängen%
    \label{tab:scrlttr2-experts.pseudoLengths}%
  }{%
    Von \Class{scrlttr2} und \Package{scrletter} verwendete Pseudolängen
    (\emph{Fortsetzung})%
  }%
  \pentry{backaddrheight}{%
    Höhe der Rücksendeadresse am oberen Rand des Anschriftfeldes
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.backaddrheight})%
  }%
  \pentry{bfoldmarklength}{%
    Länge der unteren horizontalen Faltmarke
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.bfoldmarkvpos})%
  }%
  \pentry{bfoldmarkvpos}{%
    Abstand der unteren horizontalen Faltmarke von der oberen Kante des
    Papiers
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.bfoldmarkvpos})%
  }%
  \pentry{firstfoothpos}{%
    Abstand des Brief"|fußes von der linken Kante des Papiers; Werte
    größer der Breite oder kleiner der negativen Breite des Papiers werden
    gesondert behandelt (\autoref{sec:scrlttr2-experts.firstFoot},
    \DescPageRef{scrlttr2-experts.plength.firstfoothpos})%|
  }%
  \pentry{firstfootvpos}{%
    Abstand des Brief"|fußes von der oberen Kante des Papiers
    (\autoref{sec:scrlttr2-experts.firstFoot},
    \DescPageRef{scrlttr2-experts.plength.firstfootvpos})%|
  }%
  \pentry{firstfootwidth}{%
    Breite des Brief"|fußes
    (\autoref{sec:scrlttr2-experts.firstFoot},
    \DescPageRef{scrlttr2-experts.plength.firstfootwidth})%|
  }%
  \pentry{firstheadhpos}{%
    Abstand des Briefkopfes von der linken Kante des Papiers; Werte
    größer der Breite oder kleiner der negativen Breite des Papiers werden
    gesondert behandelt (\autoref{sec:scrlttr2-experts.firstHead},
    \DescPageRef{scrlttr2-experts.plength.firstheadhpos})%
  }%\iffree{}{\enlargethispage*{\baselineskip}}% Umbruchkorrektur!!!
  \pentry{firstheadvpos}{%
    Abstand des Briefkopfes von der oberen Kante des Papiers
    (\autoref{sec:scrlttr2-experts.firstHead},
    \DescPageRef{scrlttr2-experts.plength.firstheadvpos})%
  }%
  \pentry{firstheadwidth}{%
    Breite des Briefkopfes
    (\autoref{sec:scrlttr2-experts.firstHead},
    \DescPageRef{scrlttr2-experts.plength.firstheadwidth})%
  }%
  \pentry{foldmarkhpos}{%
    Abstand der horizontalen Faltmarken von der linken Kante des Papiers
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.foldmarkhpos})%
  }%
  \pentry{foldmarkvpos}{%
    Abstand der vertikalen Faltmarken von der oberen Kante des Papiers
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.foldmarkvpos})%
  }%
  \pentry{fromrulethickness}{%
    Dicke einer optionalen 
    \iffalse horizontalen \fi% Umbruchkorrektur
    Linie im Briefkopf
    (\autoref{sec:scrlttr2-experts.firstHead},
    \DescPageRef{scrlttr2-experts.plength.fromrulethickness})%
  }%
  \pentry{fromrulewidth}{%
    Länge einer optionalen 
    \iffalse horizontalen \fi% Umbruchkorrektur
    Linie im Briefkopf
    (\autoref{sec:scrlttr2-experts.firstHead},
    \DescPageRef{scrlttr2-experts.plength.fromrulewidth})%
  }%
  \pentry{lfoldmarkhpos}{%
    Abstand der vertikalen Faltmarke von der linken Kante des Papiers
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.lfoldmarkhpos})%
  }%
  \pentry{lfoldmarklength}{%
    Länge der vertikalen Faltmarke 
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.lfoldmarklength})%
  }%
  \pentry{locheight}{%
    Höhe der Absenderergänzung, falls der Wert nicht 0 ist; bei 0 wird
    stattdessen \PLength{toaddrheight} verwendet
    (\autoref{sec:scrlttr2-experts.locationField},
    \DescPageRef{scrlttr2-experts.plength.locheight})%
  }%
  \pentry{lochpos}{%
    Abstand der Absenderergänzung von der rechten Papierkante, falls der Wert
    positiv ist, oder negativer Abstand der Absenderergänzung von der linken
    Papierkante, falls der Wert negativ ist; bei 0 wird stattdessen der
    negative Wert von \PLength{toaddrhpos} verwendet
    (\autoref{sec:scrlttr2-experts.locationField},
    \DescPageRef{scrlttr2-experts.plength.lochpos})%
  }%
  \pentry{locvpos}{%
    Abstand der Absenderergänzung von der oberen Papierkante, falls der Wert
    nicht 0 ist; bei 0 wird stattdessen \PLength{toaddrvpos} verwendet
    (\autoref{sec:scrlttr2-experts.locationField},
    \DescPageRef{scrlttr2-experts.plength.locvpos})%
  }%
  \pentry{locwidth}{%
    Breite des Feldes für die Absenderergänzung, wobei bei einem Wert von 0
    die Breite automatisch aufgrund der in \autoref{sec:scrlttr2.firstpage},
    \DescPageRef{scrlttr2.option.locfield} beschriebenen Option
    \DescRef{scrlttr2.option.locfield} berechnet wird
    (\autoref{sec:scrlttr2-experts.locationField},
    \DescPageRef{scrlttr2-experts.plength.locwidth})%
  }\iffree{}{\enlargethispage*{\baselineskip}}% Umbruchkorrektur!!!%
  \pentry{mfoldmarklength}{%
    Länge der mittleren horizontalen Faltmarke
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.mfoldmarklength})%
  }%
  \pentry{mfoldmarkvpos}{%
    Abstand der mittleren horizontalen Faltmarke von der oberen Kante des
    Papiers 
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.mfoldmarkvpos})%
  }%
  \pentry{pfoldmarklength}{%
    Länge der Lochermarke 
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.pfoldmarklength})%
  }%
  \pentry{PPdatamatrixvskip}{%
    vertikaler Abstand zwischen Port-Payé-Kopf und Data-Matrix bei
    \OptionValueRef{scrlttr2}{addrfield}{PP}
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.PPdatamatrixvskip})%
  }%
  \pentry{PPheadheight}{%
    Höhe für den Port-Payé-Kopf
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.PPheadheight})%
  }%    
  \pentry{PPheadwidth}{%
    Breite des linken Port-Payé-Feldes bei
    \OptionValueRef{scrlttr2}{addrfield}{PP}
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.PPheadwidth})%
  }%    
  \pentry{refaftervskip}{%
    vertikaler Abstand nach der Geschäftszeile
    (\autoref{sec:scrlttr2-experts.refLine},
    \DescPageRef{scrlttr2-experts.plength.refaftervskip})%
  }%
  \pentry{refhpos}{%
    Abstand der Geschäftszeile von der linken Papierkante, wobei bei einem
    Wert von 0 automatisch relativ zur Papierbreite zentriert wird
    (\autoref{sec:scrlttr2-experts.refLine},
    \DescPageRef{scrlttr2-experts.plength.refhpos})%
  }%
  \pentry{refvpos}{%
    Abstand der Geschäftszeile von der oberen Kante des Papiers
    (\autoref{sec:scrlttr2-experts.refLine},
    \DescPageRef{scrlttr2-experts.plength.refvpos})%
  }%
  \pentry{refwidth}{%
    Breite der Geschäftszeile
    (\autoref{sec:scrlttr2-experts.refLine},
    \DescPageRef{scrlttr2-experts.plength.refwidth})%
  }%
  \pentry{sigbeforevskip}{%
    vertikaler Abstand zwischen Gruß und Signatur
    (\autoref{sec:scrlttr2-experts.closing},
    \DescPageRef{scrlttr2-experts.plength.sigbeforevskip})%
  }%
  \pentry{sigindent}{%
    Einzug der Signatur gegenüber dem Textkörper
    (\autoref{sec:scrlttr2-experts.closing},
    \DescPageRef{scrlttr2-experts.plength.sigindent})%
  }%
  \pentry{specialmailindent}{%
    linker Einzug der Versandart innerhalb des Anschriftfeldes
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.specialmailindent})%
  }%
  \pentry{specialmailrightindent}{%
    rechter Einzug der Versandart innerhalb des Anschriftfeldes
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.specialmailrightindent})%
  }%
  \pentry{subjectaftervskip}{%
    vertikaler Abstand nach dem Betreff
    (\autoref{sec:scrlttr2-experts.subject},
    \DescPageRef{scrlttr2-experts.plength.subjectaftervskip})%
  }%
  \pentry{subjectbeforevskip}{%
    zusätzlicher vertikaler Abstand vor dem Betreff
    (\autoref{sec:scrlttr2-experts.subject},
    \DescPageRef{scrlttr2-experts.plength.subjectbeforevskip})%
  }%
  \pentry{subjectvpos}{%
    Abstand des Betreffs von der oberen Kante des Papiers, wobei ein Wert von
    0 stattdessen den Betreff gemäß Option \DescRef{scrlttr2.option.subject} setzt
    (\autoref{sec:scrlttr2-experts.subject},
    \DescPageRef{scrlttr2-experts.plength.subjectaftervskip})%
  }%
  \pentry{tfoldmarklength}{%
    Länge der oberen horizontalen Faltmarke
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.tfoldmarklength})%
  }%
  \pentry{tfoldmarkvpos}{%
    Abstand der oberen horizontalen Faltmarke von der oberen Kante des Papiers
    (\autoref{sec:scrlttr2-experts.foldmarks},
    \DescPageRef{scrlttr2-experts.plength.tfoldmarkvpos})%
  }%
  \pentry{toaddrheight}{%
    Höhe des Anschriftfeldes
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.toaddrheight})%
  }%
  \pentry{toaddrhpos}{%
    Abstand des Anschriftfeldes von der linken Papierkante, falls der Wert
    positiv ist, oder negativer Abstand des Anschriftfeldes von der rechten
    Papierkante, falls der Wert negativ ist
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.toaddrhpos})%
  }%
  \pentry{toaddrindent}{%
    linker und rechter Einzug der Anschrift innerhalb des Anschrift\-feldes
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.toaddrindent})%
  }%
  \iffree{}{\enlargethispage*{\baselineskip}}% Umbruchoptimierung!!!
  \pentry{toaddrvpos}{%
    Abstand des Anschriftfeldes von der oberen Kante des Papiers
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.toaddrvpos})%
  }%
  \pentry{toaddrwidth}{%
    Breite des Anschriftfeldes 
    (\autoref{sec:scrlttr2-experts.addressee},
    \DescPageRef{scrlttr2-experts.plength.toaddrwidth})%
  }%
\end{desclist}

\begin{figure}
  \centering
  \includegraphics{plenDIN}
  \caption{Schematische Darstellung der wichtigsten Pseudolängen für den
    Briefbogen}
  \label{fig:scrlttr2-experts.pseudoLengths}
\end{figure}

\begin{Declaration}
  \Macro{newplength}\Parameter{Name}
\end{Declaration}
Mit\ChangedAt{v3.26}{\Class{scrlttr2}\and \Package{scrletter}} Hilfe dieser
Anweisung wird eine neue Pseudolänge definiert. Die neue Pseudolänge ist dann
über ihren \PName{Namen} eindeutig identifiziert. Jeder Name kann also nur
einmal vergeben werden.
%
\iffalse % Umbruchoptimierungstext
Es wird sichergestellt, dass jeder \PName{Name} nur
einmal vergeben wird.%
\else
\iffalse
Wird versucht, eine bereits vorhandene Pseudolänge erneut
zu definieren, so wird dies mit einer Fehlermeldung quittiert.%
\fi
%
\fi

\BeginIndex{Cmd}{@newplength}%
Da der Anwender selbst normalerweise keine eigenen Pseudolängen definieren
muss, handelte es sich bei diesem Befehl bis \KOMAScript~3.25 um keine
Benutzeranweisung. Stattdessen existierte bis dahin nur \Macro{@newplength}
mit derselben Funktionalität. Für Paketautoren existieren diese Anweisungen
noch immer.%
\EndIndexGroup


\begin{Declaration}
  \Macro{Ifplength}\Parameter{Pseudolänge}%
                   \Parameter{Dann-Code}\Parameter{Sonst-Code}
\end{Declaration}
Mit\ChangedAt{v3.27}{\Class{scrlttr2}\and \Class{scrletter}} dieser Anweisung
kann geprüft werden, ob eine \PName{Pseudolänge} definiert ist. Ist dies der
Fall, so wird der \PName{Dann-Code} ausgeführt, anderenfalls wird der
\PName{Sonst-Code} ausgeführt.%
\iffree{}{\par%
  \BeginIndex{Cmd}{if@plength}%
  Ausschließlich aus Konsistenzgründen existiert für Paketautoren auch die
  interne Anweisung \Macro{if@plength} mit identischer Bedeutung.%
}%
\EndIndexGroup


\begin{Declaration}
  \Macro{setplength}%
    \OParameter{Faktor}\Parameter{Pseudolänge}\Parameter{Wert}
  \Macro{addtoplength}%
    \OParameter{Faktor}\Parameter{Pseudolänge}\Parameter{Wert}
\end{Declaration}
Mit\ChangedAt{v3.26}{\Class{scrlttr2}\and \Package{scrletter}} Hilfe von
\Macro{setplength} kann einer \PName{Pseudolänge} das Vielfache eines
\PName{Wertes} zugewiesen werden. Der \PName{Faktor} wird dabei als optionales
Argument übergeben (siehe auch \DescRef{scrlttr2.cmd.setlengthtoplength},
\autoref{sec:scrlttr2.pseudoLength},
\DescPageRef{scrlttr2.cmd.setlengthtoplength}).

Mit \Macro{addtoplength} kann man zu einer \PName{Pseudolänge} das Vielfache
eines \PName{Wertes} addieren. Auch dabei wird der \PName{Faktor} als
optionales Argument übergeben.

Um einer \PName{Pseudolänge} das Vielfache einer anderen Pseudolänge
zuzuweisen oder zu ihr zu addieren, verwendet man innerhalb von
\PName{Wert} die Anweisung \Macro{useplength} (siehe
\autoref{sec:scrlttr2.pseudoLength},
\DescPageRef{scrlttr2.cmd.useplength}). Um von einer \PName{Pseudolänge}
den Wert einer anderen \PName{Pseudolänge} zu subtrahieren, verwendet man
gleichzeitig als \PName{Faktor} ein Minuszeichen oder \PValue{-1} oder einen
anderen negativen Faktor.

\BeginIndex{Cmd}{@setplength}%
\BeginIndex{Cmd}{@addtoplength}%
Da der Anwender selbst normalerweise keine Pseudolängen ändern muss, handelte
es sich bis \KOMAScript~3.25 bei diesen Befehlen um keine
Benutzeranweisungen. Stattdessen existierten bis dahin nur
\Macro{@setplength} und \Macro{@addtoplength} mit derselben
Funktionalität. Für Paketautoren existieren diese Anweisungen noch immer.%
\EndIndexGroup


\begin{Declaration}
  \Macro{setplengthtowidth}
    \OParameter{Faktor}\Parameter{Pseudolänge}\Parameter{Inhalt}
  \Macro{setplengthtoheight}
    \OParameter{Faktor}\Parameter{Pseudolänge}\Parameter{Inhalt}
  \Macro{setplengthtodepth}
    \OParameter{Faktor}\Parameter{Pseudolänge}\Parameter{Inhalt}
  \Macro{setplengthtototalheight}
    \OParameter{Faktor}\Parameter{Pseudolänge}\Parameter{Inhalt}
\end{Declaration}
Die\ChangedAt{v3.26}{\Class{scrlttr2}\and \Package{scrletter}} ersten drei
Anweisungen entsprechen im Wesentlichen \Macro{settowidth},
\Macro{settoheight} und \Macro{settodepth} aus dem \LaTeX-Kern, setzen aber
keine Länge, sondern eine \PName{Pseudolänge}. Entsprechend
\DescRef{\LabelBase.cmd.setplength} sind sie ebenfalls um einen optionalen
\PName{Faktor} erweitert. Sie setzen also eine \PName{Pseudolänge} auf die
Breite, Höhe oder Tiefe von \PName{Inhalt} multipliziert mit dem optional
angegebenen \PName{Faktor}. Die zusätzliche Anweisung
\Macro{setplengthtototalheight} setzt die \PName{Pseudolänge} auf die Summe
der Höhe und Tiefe von \PName{Inhalt} multipliziert mit dem optionalen
\PName{Faktor}.%
\EndIndexGroup


\subsection{Faltmarken}
\seclabel{foldmarks}
\BeginIndexGroup
\BeginIndex{}{Faltmarke}%

Falt- oder Falzmarken sind kleine horizontale Striche am linken und kleine
vertikale Striche am oberen Rand. \KOMAScript{} unterstützt für den Briefbogen
derzeit drei konfigurierbare horizontale und eine konfigurierbare vertikale
Faltmarke. Dazu wird noch eine horizontale Loch- oder Seitenmittenmarke
unterstützt, die nicht in der Vertikalen verschoben werden kann.


\begin{Declaration}
  \PLength{tfoldmarkvpos}
  \PLength{mfoldmarkvpos}
  \PLength{bfoldmarkvpos}
\end{Declaration}
\KOMAScript{} kennt für Briefe \Class{scrlttr2} insgesamt drei in der vertikalen
Platzierung konfigurierbare Faltmarken. Die Position der oberen Faltmarke vom
oberen Papierrand wird von der Pseudolänge \PLength{tfoldmarkvpos}
bestimmt. Für die Position der mittleren Faltmarke ist Pseudolänge
\PLength{mfoldmarkvpos}\ChangedAt{v2.97e}{\Class{scrlttr2}}, für die unteren
Faltmarke \PLength{bfoldmarkvpos} zuständig. Mit der
Locher-\Index{Lochermarke} oder Seitenmittenmarke kommt noch eine weitere
horizontale Marke dazu. Diese wird jedoch immer in der vertikalen Seitenmitte
platziert. 
\iftrue% Umbruchkorrekturtext!
Da ihre vertikale Position also nicht konfigurierbar ist, existiert
auch keine Pseudolänge dafür.
\fi

Die\important{Achtung!} obere und untere Faltmarke dienen nicht der exakten
Drittelung des Papiers beim Falten. Stattdessen soll das Papier mit ihrer
Hilfe so geknickt werden können, dass das Feld für die Anschrift in einem
Fensterbriefumschlag zu sehen ist. Die Einstellungen sind daher in den
vordefinierten \File{lco}-Dateien\textnote{\File{lco}-Datei}%
\Index{lco-Datei=\File{lco}-Datei} unterschiedlich gewählt. Eine
Besonderheit\textnote{Achtung!} stellt \Option{DINmtext} dar. Hier wird
zwingend von einem Briefumschlag im Format C6/5 (auch »C6 lang« genannt)
ausgegangen. Briefe, die mit dieser Option erstellt wurden, sind normalerweise
weder für Umschläge im Format C5 noch für Umschläge im Format C4 geeignet.

Die mittlere Faltmarke wird für abendländische Briefe normalerweise nicht
benötigt. Beispielsweise in Japan gibt es jedoch so unterschiedliche
Briefumschläge, dass eine weitere Faltmarke benötigt wurde (siehe die
japanischen \File{lco}-Dateien). An dieser Stelle sei darauf hingewiesen, dass
die Bezeichnungen »obere«, »mittlere« und »untere« Faltmarke lediglich eine
Sprachkonvention darstellen. Tatsächlich ist nicht festgelegt, dass
\PLength{tfoldmarkvpos} kleiner als \PLength{mfoldmarkvpos} und dieses kleiner
als \PLength{bfoldmarkvpos} sein muss. Ist\textnote{Achtung!} eine der
Pseudolängen hingegen Null, so wird die entsprechende Faltmarke auch dann
nicht gesetzt, wenn sie per Option \DescRef{scrlttr2.option.foldmarks}%
\IndexOption{foldmarks~=\PName{Einstellung}}%
\important{\DescRef{scrlttr2.option.foldmarks}} (siehe
\autoref{sec:scrlttr2.firstpage}, \DescPageRef{scrlttr2.option.foldmarks})
explizit aktiviert wurde.%
%
\EndIndexGroup


\begin{Declaration}
  \PLength{tfoldmarklength}
  \PLength{mfoldmarklength}
  \PLength{bfoldmarklength}
  \PLength{pfoldmarklength}
\end{Declaration}
Diese\ChangedAt{v2.97e}{\Class{scrlttr2}} vier Pseudolängen bestimmen die
Länge der vier horizontalen Marken. Dabei gilt eine
Besonderheit. Ist\textnote{Achtung!} die Länge nämlich mit Null angegeben, so
werden bei den Pseudolängen \PLength{tfoldmarklength},
\PLength{mfoldmarklength} und \PLength{bfoldmarklength} für die drei in der
vertikalen Position konfigurierbaren Faltmarken stattdessen 2\Unit{mm} als
Länge verwendet. Die Länge der Lochermarke, \PLength{pfoldmarklength}, wird
hingegen auf 4\Unit{mm} gesetzt.%
\EndIndexGroup


\begin{Declaration}
  \PLength{foldmarkhpos}
\end{Declaration}
Diese Pseudolänge gibt den Abstand aller horizontalen Faltmarken vom linken
Papier\-rand an.  Normalerweise sind das 3{,}5\Unit{mm}. Sie\textnote{Tipp!}
können den Wert aber auch in Ihrer eigenen \File{lco}-Datei ändern, falls Sie
einen Drucker verwenden, der einen breiteren unbedruckbaren linken Rand
hat. Ob die Faltmarken überhaupt gesetzt werden, hängt außerdem von der Option
\DescRef{scrlttr2.option.foldmarks}\important{\DescRef{scrlttr2.option.foldmarks}}%
\IndexOption{foldmarks~=\PName{Einstellung}} ab (siehe
\autoref{sec:scrlttr2.firstpage}, \DescPageRef{scrlttr2.option.foldmarks}).%
%
\EndIndexGroup


\begin{Declaration}
  \PLength{lfoldmarkhpos}
\end{Declaration}
Neben\ChangedAt{v2.97e}{\Class{scrlttr2}} den horizontalen Faltmarken gibt es
auch noch eine vertikale Faltmarke. Deren Abstand von der linken Papierkante
wird über die Pseudolänge \PLength{lfoldmarkhpos} bestimmt. Diese Faltmarke
wird beispielsweise bei Briefen für einige japanische Chou- oder You-Umschläge
benötigt, wenn man diese für A4-Papier verwenden will. Auch für Umschläge im
C6-Format kann sie nützlich sein.%
\EndIndexGroup


\begin{Declaration}
  \PLength{lfoldmarklength}
\end{Declaration}
Die Pseudolänge \PLength{lfoldmarklength} bestimmt
die\ChangedAt{v2.97e}{\Class{scrlttr2}} Länge der vertikalen
Faltmarke. Auch\textnote{Achtung!}  hier gibt es die Besonderheit, dass bei
einer angegebenen Länge von Null stattdessen 4\Unit{mm} verwendet werden.%
\EndIndexGroup


\begin{Declaration}
  \PLength{foldmarkvpos}
\end{Declaration}
Die\ChangedAt{v2.97e}{\Class{scrlttr2}} Pseudolänge gibt den Abstand
\iffree{aller}{der} vertikalen Faltmarke\iffree{n}{} vom oberen Papier\-rand
an.  Normalerweise sind das 3{,}5\Unit{mm}. Sie\textnote{Tipp!} können den
Wert aber auch in Ihrer eigenen \File{lco}-Datei ändern, falls Sie einen
Drucker verwenden, der einen breiteren unbedruckbaren oberen Rand hat. Ob die
Faltmarke\iffree{n}{} überhaupt gesetzt \iffree{werden}{wird}, hängt außerdem
von der Option \DescRef{scrlttr2.option.foldmarks}%
\important{\DescRef{scrlttr2.option.foldmarks}}%
\IndexOption{foldmarks~=\PName{Einstellung}} ab (siehe
\autoref{sec:scrlttr2.firstpage},
\DescPageRef{scrlttr2.option.foldmarks}).\iffree{ Derzeit gibt es nur eine
  einzige vertikale Faltmarke, die als linke vertikale Faltmarke bezeichnet
  wird.}{}%
\EndIndexGroup


\begin{Declaration}
  \PLength{foldmarkthickness}
\end{Declaration}
Diese\ChangedAt{v2.97c}{\Class{scrlttr2}} Pseudolänge gibt die Dicke aller
Faltmarken an. Voreingestellt sind 0,2\Unit{pt}, also eine sehr dünne
Haarlinie. Insbesondere\textnote{Tipp!}, wenn die Farbe der Faltmarken
geändert wird, kann dies zu wenig sein!%
\EndIndexGroup
%
\EndIndexGroup


\subsection{Briefkopf}
\seclabel{firstHead}
\BeginIndexGroup
\BeginIndex{}{Briefkopf}%

Unter dem Briefkopf verstehen wir alle Angaben, die den Absender betreffen und
die über der Anschrift stehen. Normalerweise würde man erwarten, dass diese
über den Seitenstil gesetzt werden. Bei der alten Briefklasse \Class{scrlettr}
war dies auch so. Bei\textnote{Achtung!} \Class{scrlttr2} und
\Package{scrletter} wird der Briefkopf jedoch unabhängig vom Seitenstil von
der Anweisung \DescRef{scrlttr2.cmd.opening}\IndexCmd{opening} ausgegeben.
% Fuellmaterial
\iftrue%
Dabei wird der Briefkopf absolut positioniert, ist also vom Satzspiegel
unabhängig.  Die erste Seite eines Briefes, also die Seite mit dem Briefkopf,
wird tatsächlich mit dem Seitenstil
\DescRef{scrlttr2.pagestyle.empty}\IndexPagestyle{empty} gesetzt.%
\fi
% Ende des Fuellmaterials


\begin{Declaration}
  \PLength{firstheadvpos}
\end{Declaration}
Die Pseudolänge \PLength{firstheadvpos} gibt den Abstand des Briefkopfes von
der oberen Papierkante an. Der Wert wird in den vordefinierten
\File{lco}-Dateien\textnote{\File{lco}-Datei}\Index{lco-Datei=\File{lco}-Datei}
unterschiedlich gesetzt. Ein typischer Wert ist 8\Unit{mm}.%
\EndIndexGroup


\begin{Declaration}
  \PLength{firstheadhpos}
\end{Declaration}
Die Pseudolänge \PLength{firstheadhpos}\ChangedAt{v3.05}{\Class{scrlttr2}}
gibt bei einem positiven Wert den Abstand des Briefkopfes von der linken
Papierkante an. Ist\textnote{Achtung!} der Wert sogar größer oder gleich der
Breite des Papiers,
\Length{paperwidth}\important{\Length{paperwidth}}\IndexLength{paperwidth}, so
wird der Briefkopf horizontal zentriert auf dem Briefbogen platziert. Ein
negativer Wert gibt den Abstand des Briefkopfes von der rechten Papierkante
an. Ist der Wert jedoch kleiner oder gleich der negativen Breite des Papiers,
so wird der Briefkopf bündig zum linken Rand des Satzspiegels platziert.

Voreingestellt\textnote{Achtung!} ist typischerweise ein Wert von
\Length{maxdimen}\IndexLength{maxdimen}, also der größtmögliche Wert für eine
Länge. Die Folge ist eine horizontale Zentrierung.%
\EndIndexGroup


\begin{Declaration}
  \PLength{firstheadwidth}
\end{Declaration}
Die Pseudolänge \PLength{firstheadwidth} gibt die Breite des Briefkopfes
an. Der Wert wird in den vordefinierten
\File{lco}-Dateien\textnote{\File{lco}-Datei}\Index{lco-Datei=\File{lco}-Datei}
unterschiedlich gesetzt. Während er normalerweise von der Papierbreite und dem
horizontalen Abstand der Empfängeradresse vom linken Papierrand abhängt,
entspricht er bei \Option{KOMAold} der Breite des Satzspiegels und ist bei
\Option{NF} fest auf 170\Unit{mm} eingestellt.%
\EndIndexGroup


\begin{Declaration}
  \PLength{fromrulethickness}
  \PLength{fromrulewidth}
\end{Declaration}
Wie bereits bei Option
\DescRef{scrlttr2.option.fromrule}\IndexOption{fromrule} in
\autoref{sec:scrlttr2.firstpage}, \DescPageRef{scrlttr2.option.fromrule}
erwähnt wurde, kann in den vordefinierten Briefköpfen eine Linie im oder unter
dem Absender gesetzt werden. Hat\textnote{Achtung!} die Pseudolänge
\PLength{fromrulewidth} die Länge 0, so wird dabei die Länge dieser Linie
automatisch bestimmt. Dies ist die Voreinstellung bei den vordefinierten
\File{lco}-Dateien. %
\iffalse % Umbruchkorrekturtext
Der Wert kann mit \DescRef{\LabelBase.cmd.setplength} (siehe
\DescPageRef{scrlttr2-experts.cmd.setplength}) in eigenen \File{lco}-Dateien
aber auch abweichend gesetzt werden. %
\fi%
Die voreingestellte Dicke\ChangedAt{v2.97c}{\Class{scrlttr2}},
\PLength{fromrulethickness}, der Linie beträgt 0,4\Unit{pt}.%
\EndIndexGroup
%
\EndIndexGroup


\subsection{Anschrift}
\seclabel{addressee}%
\BeginIndexGroup
\BeginIndex{}{Anschrift}%

% Verschiedene Umbruchvarianten
Unter der Anschrift versteht man normalerweise nur den Namen und die Adresse
des Empfängers. %
\iffalse%
Als \iffree{erste }{}Erweiterung zur Anschrift kann die
Versandart betrachtet werden, die etwa bei \iffree{Einschreiben oder
}{}Infobriefen zur Anwendung kommt. Bei Fensterbriefumschlägen wird auch die
sogenannte Rücksendeadresse \iffree{zur Anschrift}{dazu} gezählt, da sie im
Anschriftfenster zu sehen \iffree{sein wird}{ist}. Die Anschrift folgt
unmittelbar auf den Briefkopf.%
\else%
Aber auch die Versandart, beispielsweise bei Infobriefen, oder die
Rücksendeadresse werden als Teil des Anschriftfeldes gesetzt.%
\fi


\begin{Declaration}
  \PLength{toaddrvpos}
  \PLength{toaddrhpos}
\end{Declaration}
Diese Pseudolängen geben den Abstand des Anschriftfensters eines
Fensterbriefumschlags vom oberen und vom linken Rand des Papiers an.  Sie
werden in den vordefinierten
\File{lco}-Dateien\textnote{\File{lco}-Datei}\Index{lco-Datei=\File{lco}-Datei}
unterschiedlich eingestellt.  Für \PLength{toaddrhpos} gilt außerdem eine
Besonderheit. Ist\textnote{Achtung!} der Wert \iffree{}{wie bei \Option{SN}
  oder \Option{NF} }negativ, so ist sein Betrag der Abstand des
Anschriftfeldes vom rechten Rand des Papiers. %
\iffree{%
  Sie\textnote{Beispiele!} finden dies beispielsweise bei \Option{SN} oder
  \Option{NF}. Am kleinsten ist der Wert \PLength{toaddrvpos} bei
  \Option{DINmtext}. Hier kann es schnell passieren, dass der Briefkopf in das
  Anschriftfenster ragt.%
}{%
  Große Briefköpfe\textnote{Achtung!} können bei kleinem \PLength{toaddrvpos},
  beispielsweise bei \Option{DINmtext}, bis in das Anschriftfeld ragen.%
} Ob das Anschriftfenster überhaupt gesetzt wird, hängt von der Option
\Option{addrfield} ab (siehe \autoref{sec:scrlttr2.firstpage},
\DescPageRef{scrlttr2.option.addrfield}).%
\EndIndexGroup


\begin{Declaration}
  \PLength{toaddrheight}
\end{Declaration}
Diese Pseudolänge gibt die Höhe des Anschriftfeldes einschließlich der
Versandart an. Ob Name und Adresse des Empfängers unter Berücksichtigung der
Versandart im Anschriftfeld vertikal zentriert werden hängt von Option
\DescRef{scrlttr2.option.addrfield} ab.%
\EndIndexGroup


\begin{Declaration}
  \PLength{toaddrwidth}
\end{Declaration}
Diese Pseudolänge gibt die Breite des Anschriftfensters an. Diese wird in den
vordefinierten
\File{lco}-Dateien\textnote{\File{lco}-Datei}\Index{lco-Datei=\File{lco}-Datei}
entsprechend der unterschiedlichen Normen unterschiedlich
eingestellt. Typische Werte liegen zwischen 70\Unit{mm} und 100\Unit{mm}.

\begin{Example}
  Angenommen, Sie haben das Problem, dass Ihr Drucker einen \iffree{sehr
    breiten }{}unbedruckbaren rechten \iffree{oder linken }{}Rand von
  15\Unit{mm} besitzt. Dadurch kann bei Option \Option{SN} der Briefkopf, die
  Absenderergänzung und die Anschrift nicht komplett gedruckt werden. Sie
  erstellen daher eine neue \iffree{\File{lco}-Datei mit folgendem Inhalt}{Datei
    \File{SNmmarg.lco}, die Sie anstelle von \Option{SN} verwenden}:
\begin{lstcode}
  \ProvidesFile{SNmmarg.lco}
               [2002/06/04 v0.1 my own lco]
  \LoadLetterOption{SN}
  \addtoplength{toaddrwidth}{%
    -\useplength{toaddrhpos}}
  \setplength{toaddrhpos}{-15mm}
  \addtoplength{toaddrwidth}{%
    \useplength{toaddrhpos}}
  \endinput
\end{lstcode}%
  \iffree{ Bis Sie sich einen Drucker mit kleineren Rändern zugelegt haben,
    verwenden Sie \Option{SNmmarg} anstelle von
    \Option{SN}.}{}% Umbruchoptimierung
\end{Example}\vskip-\ht\strutbox% Wegen Beispiel am Ende der Erklärung
%
\EndIndexGroup


\begin{Declaration}
  \PLength{toaddrindent}
\end{Declaration}
Manchmal will man, dass die Anschrift nicht am linken Rand des
Anschriftfensters beginnt und bis zum rechten Rand des Fensters reicht,
sondern ein wenig eingezogen wird. Der Wert dieses Einzugs kann über die
Pseudolänge \PLength{toaddrindent} festgelegt werden. Typischerweise ist
dieser Wert jedoch 0\Unit{pt}. 

Bei\textnote{Achtung!} jeder der
Einstellungen\ChangedAt{v3.03}{\Class{scrlttr2}}
\OptionValueRef{scrlttr2}{addrfield}{PP}\important{%
  \OptionValueRef{scrlttr2}{addrfield}{PP}\\
  \OptionValueRef{scrlttr2}{addrfield}{image}\\
  \OptionValueRef{scrlttr2}{addrfield}{backgroundimage}
}\IndexOption{addrfield~=\textKValue{PP}},
\OptionValueRef{scrlttr2}{addrfield}{image}%
\IndexOption{addrfield~=\textKValue{image}} und
\OptionValueRef{scrlttr2}{addrfield}{backgroundimage}%
\IndexOption{addrfield~=\textKValue{backgroundimage}} (siehe
\autoref{sec:scrlttr2.firstpage},
\DescPageRef{scrlttr2.option.addrfield}) wird beim Wert 0\Unit{pt}
stattdessen ein Einzug von 8\Unit{mm} verwendet. Soll hier tatsächlich kein
Einzug verwendet werden, so kann mit 1\Unit{sp} ein vernachlässigbar kleiner
Einzug gesetzt werden. Des Weiteren wird \PLength{toaddrindent} bei den
genannten Einstellungen für \Option{addrfield} auch für den Abstand zum
rechten Rand des Anschriftfensters verwendet.%
\EndIndexGroup


\begin{Declaration}
  \PLength{backaddrheight}
\end{Declaration}
Bei Fensterbriefumschlägen wird der Absender häufig in einer kleinen Schrift
einzeilig über der Empfängeradresse ausgegeben. Diese Absenderangabe nennt man
Rücksendeadresse\textnote{Rücksendeadresse}%
\Index{Ruecksendeadresse=Rücksendeadresse}, da sie \iffree{im Anschriftfenster
  sichtbar ist und }{}der Post bei unzustellbaren Briefen für die Rücksendung
an den Absender dient. In dieser Adresse muss daher auch nur die Information
enthalten sein, die zur Rücksendung notwendig ist.

Die Höhe, die innerhalb des Anschriftfensters für die Rücksendeadresse zur
Verfügung steht, ist in der Pseudolänge \PLength{backaddrheight} abgelegt. Der
Wert wird in den vordefinierten \File{lco}-Dateien typischerweise auf
5\Unit{mm} eingestellt.  Ob die Rücksendeadresse überhaupt gesetzt wird,
bestimmt der Anwender mit den Optionen \Option{addrfield} (siehe
\autoref{sec:scrlttr2.firstpage}, \DescPageRef{scrlttr2.option.addrfield}) und
\DescRef{scrlttr2.option.backaddress} (siehe \autoref{sec:scrlttr2.firstpage},
\DescPageRef{scrlttr2.option.backaddress}).%
\EndIndexGroup


\begin{Declaration}
  \PLength{specialmailindent}
  \PLength{specialmailrightindent}
\end{Declaration}
Zwischen Rücksendeadresse und Empfängeradresse kann noch eine optionale
Versandart\Index{Versandart} gesetzt werden\iffree{. Diese wird genau dann
  gesetzt}{}, wenn die Variable \DescRef{scrlttr2.variable.specialmail} einen
Inhalt hat. Die Ausrichtung wird mit Hilfe der Pseudolängen
\PLength{specialmailindent} und \PLength{specialmailrightindent}
festgelegt. Diese geben den linken und rechten Einzug der Zeile an. In den
vordefinierten \File{lco}-Dateien ist \PLength{specialmailindent} auf den
dehnbaren Wert \Macro{fill} gesetzt, während \PLength{specialmailrightindent}
auf 1\Unit{em} eingestellt ist. Damit wird die Versandart 1\Unit{em} vom
rechten Rand des Anschriftfensters gesetzt.%
\EndIndexGroup


\begin{Declaration}
  \PLength{PPheadheight}
  \PLength{PPheadwidth}
\end{Declaration}
Die Pseudolänge \PLength{PPheadheight} gibt bei den beiden
Einstellungen\ChangedAt{v3.03}{\Class{scrlttr2}}
\OptionValueRef{scrlttr2}{addrfield}{PP}\important{%
  \OptionValueRef{scrlttr2}{addrfield}{PP}\\
  \OptionValueRef{scrlttr2}{addrfield}{backgroundimage}}%
\IndexOption{addrfield~=\textKValue{PP}} und
\OptionValueRef{scrlttr2}{addrfield}{backgroundimage}%
\IndexOption{addrfield~=\textKValue{backgroundimage}} die Höhe an, die am Anfang
des Adressfeldes für den Port-Payé-Kopf reserviert wird. Die Pseudolänge
\PLength{PPheadwidth} wird nur bei \OptionValueRef{scrlttr2}{addrfield}{PP}
(siehe \autoref{sec:scrlttr2.firstpage},
\DescPageRef{scrlttr2.option.addrfield}) verwendet und gibt die Breite des
linken Feldes des Port-Payé-Kopf mit dem P.\,P.-Logo, der Postleitzahl und dem
Ort an. Die Breite des rechten Feldes mit dem Code für den Absender und der
Priorität ist durch die Restbreite bestimmt.

Den\textnote{Achtung!}  normalerweise voreingestellten Wert von 0\Unit{mm} für
Pseudolänge \PLength{PPheadheight} ändert \KOMAScript{} selbstständig in
20,74\Unit{pt}. Den normalerweise voreingestellten Wert von 0\Unit{mm} für
\PLength{PPheadwidth} ändert \KOMAScript{} selbstständig in 42\Unit{mm}.%
%
\EndIndexGroup


\begin{Declaration}
  \PLength{PPdatamatrixvskip}
\end{Declaration}
Durch\ChangedAt{v3.03}{\Class{scrlttr2}} diese Pseudolänge wird der vertikale
Abstand zwischen dem Port-Payé-Kopf und der Data-Matrix bei
\OptionValueRef{scrlttr2}{addrfield}{PP}%
\important{\OptionValueRef{scrlttr2}{addrfield}{PP}}%
\IndexOption{addrfield~=\textKValue{PP}} (siehe
\autoref{sec:scrlttr2.firstpage}, \DescPageRef{scrlttr2.option.addrfield})
festgelegt. Den\textnote{Achtung!}  normalerweise voreingestellten Wert von
0\Unit{mm} ändert \KOMAScript{} selbstständig in 9\Unit{mm}. Die Data-Matrix
wird rechtsbündig zum Port-Payé-Kopf gesetzt.%
\EndIndexGroup
%
\EndIndexGroup


\subsection{Absenderergänzungen}
\seclabel{locationField}
\BeginIndexGroup
\BeginIndex{}{Absenderergaenzung=Absenderergänzung}%

\iffalse% Umbruchvarianten
Insbesondere bei Geschäftsbriefen reicht der Platz im Briefkopf und im
Seitenfuß oftmals nicht aus, um alle Angaben des Absenders unterzubringen. Für
die zusätzlichen Informationen kann der Platz neben der Anschrift
genutzt werden. In dieser Anleitung wird dieses Feld \emph{Absenderergänzung}
genannt.%
\else%
Reicht der Raum in Briefkopf und Seitenfuß nicht aus, um alle Angaben zum
Absender unterzubringen, kann der Platz neben der Anschrift als
\emph{Absenderergänzung} genutzt werden.%
\fi


\begin{Declaration}
  \PLength{locheight}
  \PLength{lochpos}
  \PLength{locvpos}
  \PLength{locwidth}
\end{Declaration}
Die Pseudolängen \PLength{locwidth} und
\PLength{locheight}\ChangedAt{v2.97d}{\Class{scrlttr2}} geben die Breite und
Höhe der Absenderergänzung an. Die Pseudolängen \PLength{lochpos} und
\PLength{locvpos} geben die Abstände von der rechten, oberen
Papierkante an. Die Werte werden in den vordefinierten \File{lco}-Dateien
typischerweise auf 0\Unit{pt} gesetzt. Dieser\textnote{Achtung!} Wert nimmt
eine Sonderstellung ein. Er bedeutet, dass die Werte erst bei
\DescRef{scrlttr2.cmd.opening}\IndexCmd{opening} anhand der Breite des
Papiers, der Breite des Anschriftfensters, des Abstandes des
Anschriftfensters von der linken, oberen Papierkante und
Option \DescRef{scrlttr2.option.locfield} (siehe
\autoref{sec:scrlttr2.firstpage}, \DescPageRef{scrlttr2.option.locfield})
gesetzt werden. Wie\textnote{Achtung!} bei \PLength{toaddrhpos} nehmen
negative Werte für \PLength{lochpos} eine Sonderstellung ein. Es wird dann
statt des Abstandes vom rechten Papierrand der Betrag von \PLength{lochpos}
als Abstand vom linken Papierrand verwendet. Die Bedeutung ist also genau
umgekehrt zu der bei \PLength{toaddrhpos} (siehe
\autoref{sec:scrlttr2-experts.addressee},
\DescPageRef{scrlttr2-experts.plength.toaddrhpos}).%
\EndIndexGroup
%
\EndIndexGroup


\subsection{Geschäftszeile}
\seclabel{refLine}%
\BeginIndexGroup
\BeginIndex{}{Geschaeftszeile=Geschäftszeile}%

Die Geschäftszeile kann auch länger als eine Zeile sein. Sie wird nur gesetzt,
wenn mindestens eine der Variablen für die Geschäftszeile nicht leer ist.  Es
werden nur nicht leere Felder gesetzt. Um\textnote{Tipp!} ein scheinbar leeres
Feld zu setzen, kann man einen scheinbar leeren Variableninhalt wie
\Macro{mbox}\Parameter{} verwenden. Wird auf die Geschäftszeile verzichtet, so
werden an ihrer Stelle Bezeichnung und Inhalt der Variablen
\DescRef{scrlttr2.variable.date} ausgegeben. %
\iffalse% Umbruchoptimierung
Informationen, wie Variablen zur Geschäftszeile hinzugefügt oder entfernt
werden, sind in \autoref{sec:scrlttr2-experts.variables},
\DescPageRef{scrlttr2-experts.cmd.removereffields} zu finden.%
\fi


\begin{Declaration}
  \PLength{refvpos}
\end{Declaration}
Diese Pseudolänge gibt den Abstand der Geschäftszeile von der Oberkante des
Papiers an. Ihr Wert wird in den vordefinierten \File{lco}-Dateien\textnote{\File{lco}-Datei}\Index{lco-Datei=\File{lco}-Datei}
unterschiedlich eingestellt. %
\iffalse%
Typische Werte liegen zwischen 80{,}5\Unit{mm} und 98{,}5\Unit{mm}.%
\fi%
\EndIndexGroup


\begin{Declaration}
  \PLength{refwidth}
  \PLength{refhpos}
\end{Declaration}
Die Pseudolänge \PLength{refwidth} gibt die Breite an, die für die
Geschäftszeile zur Verfügung steht. Ihr Wert wird in den vordefinierten
\File{lco}-Dateien typischerweise auf 0\Unit{pt}
gesetzt. Dieser\textnote{Achtung!} Wert hat eine besondere Bedeutung. %
\iffalse% Umbruchoptimierung
Es wird damit keineswegs festgelegt, dass für die Geschäftszeile keine Breite
zur Verfügung steht. Vielmehr bedeutet der Wert%
\else%
Damit wird festgelegt%
\fi%
, dass die verfügbare Breite erst innerhalb von
\DescRef{scrlttr2.cmd.opening}\IndexCmd{opening} ermittelt wird.  Die%
\iffalse% Umbruchoptimierung
\ dort ermittelte %
\else%
se %
\fi%
Breite richtet sich \iffree{dann }{}nach der Einstellung der Option
\DescRef{scrlttr2.option.refline}\important{\DescRef{scrlttr2.option.refline}}%
\IndexOption{refline~=\PName{Einstellung}} (siehe
\autoref{sec:scrlttr2.firstpage},
\DescPageRef{scrlttr2.option.refline}). Gleichzeitig wird dann auch
\PLength{refhpos} entsprechend der Option gesetzt. Bei
\OptionValueRef{scrlttr2}{refline}{wide}%
\IndexOption{refline~=\textKValue{wide}} wird die Geschäftszeile zentriert,
wohingegen sie bei \OptionValueRef{scrlttr2}{refline}{narrow}%
\IndexOption{refline~=\textKValue{narrow}} am Satzspiegel links ausgerichtet
wird.

Ist \PLength{refwidth} von Null verschieden, wird die Breite der
Geschäftszeile also nicht von der Option \DescRef{scrlttr2.option.refline}
bestimmt, so gibt \PLength{refhpos} den Abstand der Geschäftszeile von der
linken Papierkante an. Ist\textnote{Achtung!} dieser Abstand Null, so wird die
Geschäftszeile so ausgerichtet, dass das Verhältnis zwischen ihrem Abstand von
der linken Papierkante zu ihrem Abstand von der rechten Papierkante dem
Verhältnis zwischen dem Abstand des Satzspiegels von der linken Papierkante zu
seinem Abstand von der rechten Papierkante entspricht. Bei auf dem Papier
horizontal zentriertem Satzspiegel wird also auch die Geschäftszeile
zentriert.

In der Regel werden diese Sonderfälle für die häufigsten Anwendungen von
geringem Interesse sein. Die\textnote{Tipp!} einfachste Regel lautet hier:
Entweder wird \PLength{refwidth} auf Null belassen und die Breite und
Ausrichtung der Geschäftszeile über die Option
\DescRef{scrlttr2.option.refline} bestimmt oder sowohl \PLength{refwidth} als
auch \PLength{refhpos} werden vom Anwender vorgegeben.%
\EndIndexGroup


\begin{Declaration}
  \PLength{refaftervskip}
\end{Declaration}
Diese Pseudolänge gibt den vertikalen Abstand an, der nach der Geschäftszeile
eingefügt werden soll. Der Wert wird in den vordefinierten
\File{lco}-Dateien\textnote{\File{lco}-Datei}\Index{lco-Datei=\File{lco}-Datei}
eingestellt. Er wirkt sich unmittelbar auf die Höhe des Textbereichs der
ersten Seite aus. Der typische Wert liegt zwischen einer und zwei Zeilen.%
\EndIndexGroup
%
\EndIndexGroup


\subsection{Betreff}
\seclabel{subject}%
\BeginIndexGroup
\BeginIndex{}{Betreff}

Der Betreff eine Briefes wird in unterschiedlichen Ländern unterschiedlich
gesetzt. Die einen haben ihn gerne vor der Anrede, die anderen setzen ihn
danach. Einige Berufsgruppen wollen ihn teilweise sogar vor der Geschäftszeile
haben.

\begin{Declaration}
  \PLength{subjectvpos}
\end{Declaration}
\ChangedAt{v3.01}{\Class{scrlttr2}}%
Ist\textnote{Achtung!} der Wert dieser Pseudolänge 0\Unit{pt}, so bestimmt die
Option
\DescRef{scrlttr2.option.subject}\important{\DescRef{scrlttr2.option.subject}}%
\IndexOption{subject~=\PName{Einstellung}} (siehe
\autoref{sec:scrlttr2.firstpage}, \DescPageRef{scrlttr2.option.subject}) die
Position des Betreffs. Dabei spielen dann auch die nachfolgend erklärten
Pseudolängen \PLength{subjectbeforevskip} und \PLength{subjectaftervskip} ihre
Rolle. Bei allen anderen Werten wird der Betreff mit dem entsprechenden
Abstand von der oberen Papierkante platziert. Es\textnote{Tipp!} wird
empfohlen in diesem Fall darauf zu achten, dass genügend Platz zur Verfügung
steht, damit Überschneidungen mit anderen Elementen unwahrscheinlich sind.
\begin{Example}
  Einige wenige Berufsgruppen ziehen es vor, wenn der Betreff noch vor der
  Geschäftszeile steht. Hierzu kann man die Position wie folgt wählen, wobei
  auch die Position der Geschäftszeile angepasst wird:
\begin{lstcode}
  \ProvidesFile{lawsubj.lco}
               [2008/11/03 lawyers lco file]
  \setplength{subjectvpos}{\useplength{refvpos}}
  \addtoplength{refvpos}{3\baselineskip}
  \endinput
\end{lstcode}
  Will man, dass zwischen Betreff und Geschäftszeile noch mindestens eine
  Zeile frei bleibt, hat man so Platz für maximal zwei Zeilen Betreff.
\end{Example}
\EndIndexGroup


\begin{Declaration}
  \PLength{subjectbeforevskip}
  \PLength{subjectaftervskip}
\end{Declaration}
\ChangedAt{v3.01}{\Class{scrlttr2}}%
Wird der Betreff nicht absolut platziert, sondern vor oder nach der Anrede, so
kann vor und nach dem Betreff ein zusätzlicher Abstand eingefügt werden. Der
Abstand vor dem Betreff trifft dabei gegebenenfalls mit anderen Abständen,
etwa dem automatischen Abstand von einer Zeile nach dem Titel, zusammen. In
der Voreinstellung wird daher in der Regel kein weiterer Abstand an dieser
Stelle eingefügt. Der Abstand nach dem Betreff beträgt in der Voreinstellung
von Klasse und Paket zwei Zeilen.%
\EndIndexGroup \EndIndexGroup


\subsection{Schlussgruß}
\seclabel{closing}
\BeginIndexGroup
\BeginIndex{}{Schlussgruss=Schlussgruß}

Der Schlussgruß\Index{Gruss=Gruß} eines Briefes besteht aus mehreren Teilen.
Neben der Grußformel selbst gibt es noch die Unterschrift und die Signatur,
eine Art Erläuterung zur Unterschrift.


\begin{Declaration}
  \PLength{sigindent}
  \PLength{sigbeforevskip}
\end{Declaration}
Grußfloskel\Index{Gruss=Gruß}\Index{Signatur} und Erläuterung der
Unterschrift\Index{Unterschrift} werden innerhalb einer Box gesetzt.  Die
Breite dieser Box wird durch die längste Zeile innerhalb von Grußfloskel und
Erläuterung bestimmt.

Die Box wird mit dem durch die Pseudolänge \PLength{sigindent} bestimmten
Einzug gesetzt. In den vordefinierten \File{lco}-Dateien ist der Einzug auf
0\Unit{mm} gesetzt.

Zwischen Grußfloskel und Erläuterung wird ein vertikaler Abstand eingefügt,
der mit der Pseudolänge \PLength{sigbeforevskip} festgelegt ist. In den
vordefinierten \File{lco}-Dateien ist der Wert auf zwei Zeilen eingestellt. In
diese Lücke setzen Sie dann Ihre Unterschrift.%
\iffalse% Umbruchkorrekturtext
\ Sollten\textnote{Tipp!} Sie sich dazu entschließen in die Variable
\DescRef{scrlttr2.variable.signature}\IndexVariable{signature}%
\important{\DescRef{scrlttr2.variable.signature}} mit Paket
\Package{graphicx}\IndexPackage{graphicx} ein Faksimile Ihrer Unterschrift
einzufügen, wäre es also sinnvoll den Wert von \PLength{sigbeforevskip} und
damit die Lücke zwischen Schlussgruß und Signatur zu verringern.%
\fi%
\EndIndexGroup
%
\EndIndexGroup


\subsection{Briefbogenfuß}
\seclabel{firstFoot}%
\BeginIndexGroup
\BeginIndex{}{Briefbogenfuss=Briefbogenfuß}%

Die erste Seite eines Briefes, der Briefbogen, enthält nicht nur einen eigenen
Kopf, den Briefkopf. Diese Seite enthält auch einen eigenen
Fuß\Index{Fuss=Fuß}, den Briefbogenfuß. %
\iftrue% Umbruchvarianten
Auch dieser wird nicht über den Seitenstil%
\else%
Genau wie der Briefkopf wird der Briefbogenfuß nicht über den Seitenstil%
\fi%
, sondern unmittelbar von \DescRef{scrlttr2.cmd.opening}\IndexCmd{opening}%
\important{\DescRef{scrlttr2.cmd.opening}} ausgegeben.


\begin{Declaration}
  \PLength{firstfootvpos}
\end{Declaration}
Diese Pseudolänge gibt den Abstand des Fußes der ersten Briefseite von der
Oberkante des Papiers an. Es wird außerdem dafür gesorgt, dass der Textbereich
nicht in den Fuß hineinragt. Hierzu wird auf der ersten Seite gegebenenfalls
die Höhe des Textbereichs mit Hilfe von
\Macro{enlargethispage}\IndexCmd{enlargethispage}%
\important{\Macro{enlargethispage}} verkleinert. Mit Hilfe der Option
\DescRef{scrlttr2.option.enlargefirstpage}%
\important{\DescRef{scrlttr2.option.enlargefirstpage}} (siehe
\autoref{sec:scrlttr2.firstpage},
\DescPageRef{scrlttr2.option.enlargefirstpage}) kann dafür gesorgt werden,
dass die Höhe des Textbereichs umgekehrt gegebenenfalls auch vergrößert
wird. Damit kann dann der Abstand zwischen Textbereich und Fuß der ersten
Seite auf den Wert der Länge
\Length{footskip}\IndexLength{footskip}\important{\Length{footskip}}
verringert werden.

Bei\textnote{Achtung!}
Kompatibilitätseinstellungen\ChangedAt{v2.9t}{\Class{scrlttr2}} bis
Version~2.9t (siehe \DescRef{scrlttr2.option.version} in
\autoref{sec:scrlttr2.compatibilityOptions},
\DescPageRef{scrlttr2.option.version}) wird außer bei \Option{KOMAold} und
\Option{NF} in allen vordefinierten
\File{lco}-Dateien\textnote{\File{lco}-Datei}\Index{lco-Datei=\File{lco}-Datei}
(siehe \autoref{sec:scrlttr2.lcoFile}) der Fuß abhängig vom Satzspiegel
gesetzt.  Damit hat dann auch \DescRef{scrlttr2.option.enlargefirstpage}%
\important{\DescRef{scrlttr2.option.enlargefirstpage}} keine Wirkung. Ab
Version 2.9u bekommt der Fuß eine Position am unteren Ende des Papiers. Damit
ist dann die Höhe des Satzspiegels des Briefbogens eventuell auch von der
Option \DescRef{scrlttr2.option.enlargefirstpage} abhängig.

Sollte der Briefbogenfuß mittels Option
\OptionValueRef{scrlttr2}{firstfoot}{false}%
\important{\OptionValueRef{scrlttr2}{firstfoot}{false}}%
\IndexOption{firstfoot~=\textKValue{false}}\ChangedAt{v2.97e}{\Class{scrlttr2}}
(siehe \autoref{sec:scrlttr2.firstpage},
\DescPageRef{scrlttr2.option.firstfoot}) abgeschaltet sein, so wird die
Einstellung von \PLength{firstfootvpos} ignoriert und stattdessen
\Length{paperheight}\IndexLength{paperheight} angenommen. Es bleibt damit dann
ein minimaler unterer Rand von \Length{footskip}\IndexLength{footskip}.%
\EndIndexGroup


\begin{Declaration}
  \PLength{firstfoothpos}
\end{Declaration}
Die\textnote{Achtung!} Pseudolänge
\PLength{firstfoothpos}\ChangedAt{v3.05}{\Class{scrlttr2}} gibt bei einem
positiven Wert den Abstand des Briefbogenfußes von der linken Papierkante
an. Ist der Wert sogar größer oder gleich der Breite des Papiers,
\Length{paperwidth}\IndexLength{paperwidth}, so wird der Fuß horizontal
zentriert auf dem Briefbogen platziert. Ein negativer Wert gibt den Abstand
des Fußes von der rechten Papierkante an. Ist der Wert jedoch kleiner oder
gleich der negativen Breite des Papiers, so wird der Fuß bündig zum linken
Rand des Satzspiegels platziert.

Voreingestellt ist typischerweise ein Wert von
\Length{maxdimen}\IndexLength{maxdimen}, also der größtmögliche Wert für eine
Länge. Die Folge ist eine horizontale Zentrierung.%
\EndIndexGroup


\begin{Declaration}
  \PLength{firstfootwidth}
\end{Declaration}
Diese Pseudolänge gibt die Breite des Fußes der ersten Briefseite, also des
Briefbogens, an. Der Wert stimmt in den vordefinierten \File{lco}-Dateien mit
\PLength{firstheadwidth}\important{\PLength{firstheadwidth}}%
\IndexPLength{firstheadwidth} überein.%
%
\EndIndexGroup
%
\EndIndexGroup
%
\EndIndexGroup


\section{Variablen für fortgeschrittene Anwender}
\seclabel{variables}
\BeginIndexGroup
\BeginIndex{}{Variablen}

Neben der Möglichkeit, vordefinierte Variablen zu verwenden, bietet
\KOMAScript{} auch Anweisungen, um neue Variablen zu definieren oder deren
automatische Verwendung innerhalb der Geschäftszeile zu beeinflussen.


\begin{Declaration}
  \Macro{newkomavar}\OParameter{Bezeichnung}\Parameter{Name}
  \Macro{newkomavar*}\OParameter{Bezeichnung}\Parameter{Name}
  \Macro{removereffields}
  \Macro{defaultreffields}
  \Macro{addtoreffields}\Parameter{Name}
\end{Declaration}
Mit \Macro{newkomavar} wird eine neue Variable definiert. Diese Variable wird
über \PName{Name} angesprochen. Optional kann eine \PName{Bezeichnung} für die
Variable \PName{Name} angegeben werden. Eine \PName{Bezeichnung} wird dabei im
Unterschied zum \PName{Name} nicht verwendet, um auf eine Variable
zuzugreifen. Vielmehr ist die \PName{Bezeichnung} eine Ergänzung zum Inhalt
einer Variable, die ähnlich ihrem Inhalt ausgegeben werden kann. 

Mit der Anweisung \Macro{addtoreffields} kann die Variable \PName{Name} der
Geschäftszeile\Index{Geschaeftszeile=Geschäftszeile}\textnote{Geschäftszeile}
(siehe \autoref{sec:scrlttr2.firstpage},
\DescPageRef{scrlttr2.option.refline}) hinzugefügt werden. Dabei wird die
\PName{Bezeichnung} und der Inhalt der Variablen an das Ende der
Geschäftszeile angehängt, falls ihr Inhalt nicht leer ist. Die Sternvariante
\Macro{newkomavar*} entspricht der Variante ohne Stern mit anschließendem
Aufruf der Anweisung \Macro{addtoreffields}. Bei der Sternvariante wird die
Variable also automatisch zur Geschäftszeile hinzugefügt.
\begin{Example}
  Angenommen, Sie benötigen in der Geschäftszeile ein zusätzliches Feld
  für eine Durchwahl. Sie können das Feld dann wahlweise mit
\begin{lstcode}
  \newkomavar[Durchwahl]{myphone}
  \addtoreffields{myphone}
\end{lstcode}
  oder kürzer mit
\begin{lstcode}
  \newkomavar*[Durchwahl]{myphone}
\end{lstcode}
  definieren.
\end{Example}
Im\textnote{Achtung!} Fall, dass eine Variable für die Geschäftszeile
definiert wird, sollten Sie immer eine Bezeichnung dafür angeben.

Mit der Anweisung \Macro{removereffields} können alle Variablen aus der
Geschäftszeile entfernt werden. Dies betrifft auch die in der Klasse
vordefinierten Variablen. Die Geschäftszeile ist dann leer. Sie können dies
beispielsweise nutzen, wenn Sie die Reihenfolge der Variablen in der
Geschäftszeile ändern wollen.

Zur Wiederherstellung der Reihenfolge der vordefinierten Variablen in der
Geschäftszeile dient \Macro{defaultreffields}. Dabei werden auch alle
selbst definierten Variablen aus der Geschäftszeile entfernt.

Das\textnote{Achtung!} Datum sollte der Geschäftszeile nicht über die
Anweisung \Macro{addtoreffields} hinzugefügt werden. Stattdessen stellt man
mit Option \DescRef{scrlttr2.option.refline}%
\important{\OptionValueRef{scrlttr2}{refline}{dateleft}\\
  \OptionValueRef{scrlttr2}{refline}{dateright}\\
  \OptionValueRef{scrlttr2}{refline}{nodate}}%
\IndexOption{refline~=\textKValue{dateleft}}%
\IndexOption{refline~=\textKValue{dateright}}%
\IndexOption{refline~=\textKValue{nodate}} ein, ob das Datum links, rechts oder
gar nicht in der Geschäftszeile erscheinen soll. Diese Einstellungen haben
darüber hinaus auch einen Einfluss auf die Position des Datums, wenn gar keine
Geschäftszeile verwendet wird.%
%
\EndIndexGroup


\begin{Declaration}
  \Macro{usekomavar}\OParameter{Anweisung}\Parameter{Name}
  \Macro{usekomavar*}\OParameter{Anweisung}\Parameter{Name}
\end{Declaration}
Die Anweisungen \DescRef{scrlttr2.cmd.usekomavar} und
\DescRef{scrlttr2.cmd.usekomavar*} sind wie alle Anweisungen, von denen es
eine Sternvariante gibt oder die ein optionales Argument besitzen, nicht voll
expandierbar.  Bei Verwendung innerhalb von
\DescRef{scrlttr2.cmd.markboth}\IndexCmd{markboth},
\DescRef{scrlttr2.cmd.markright}\IndexCmd{markright} oder ähnlichen
Anweisungen muss dennoch kein \Macro{protect}\IndexCmd{protect} vorangestellt
werden. Selbstverständlich gilt dies bei Verwendung von
\hyperref[cha:scrlayer-scrpage]{\Package{scrlayer-scrpage}}%
\IndexPackage{scrlayer-scrpage} auch für
\DescRef{scrlayer-scrpage.cmd.markleft}\IndexCmd{markleft} (siehe
\autoref{sec:scrlayer-scrpage.pagestyle.content},
\DescPageRef{scrlayer-scrpage.cmd.markleft}).  Allerdings\textnote{Achtung!}
können die Anweisungen nicht innerhalb von
\Macro{MakeUppercase}\important{\Macro{MakeUppercase}}\IndexCmd{MakeUppercase}
und ähnlichen Anweisungen verwendet werden, die direkten Einfluss auf ihr
Argument haben. Diese Anweisungen können jedoch als optionales Argument
angegeben werden. So erhält man beispielsweise den Inhalt einer Variable in
Großbuchstaben mit:
\begin{lstcode}[escapeinside=><]
  \usekomavar[\MakeUppercase]{>\PName{Name}<}
\end{lstcode}
%
\EndIndexGroup


\begin{Declaration}
  \Macro{ifkomavarempty}\Parameter{Name}\Parameter{Wahr}\Parameter{Falsch}
  \Macro{ifkomavarempty*}\Parameter{Name}\Parameter{Wahr}\Parameter{Falsch}
\end{Declaration}
Für die exakte Funktion ist wichtig, dass der Inhalt der Variablen soweit
expandiert wird, wie dies mit \Macro{edef} möglich ist. Bleiben dabei
Leerzeichen oder unexpandierbare Makros wie \Macro{relax} übrig, so gilt der
Inhalt auch dann als nicht leer, wenn die Verwendung der Variablen zu keiner
Ausgabe führen würde.

Auch\textnote{Achtung!} diese Anweisung kann nicht innerhalb von
\Macro{MakeUppercase} oder ähnlichen Anweisungen verwendet werden. Sie ist
jedoch robust genug, um beispielsweise als Argument von
\DescRef{scrlttr2.cmd.markboth} oder \DescRef{scrlttr2.cmd.footnote} zu
funktionieren.%
\EndIndexGroup


\begin{Declaration}
  \Macro{foreachkomavar}\Parameter{Variablenliste}\Parameter{Befehl}
  \Macro{foreachnonemptykomavar}\Parameter{Variablenliste}\Parameter{Befehl}
  \Macro{foreachemptykomavar}\Parameter{Variablenliste}\Parameter{Befehl}
  \Macro{foreachkomavarifempty}\Parameter{Variablenliste}
                               \Parameter{Dann-Befehl}\Parameter{Sonst-Befehl}
\end{Declaration}
Mit\ChangedAt{v3.27}{\Class{scrlttr2}\and \Package{scrletter}} der Anweisung
\Macro{foreachkomavar} wird der angegebene \PName{Befehl} für jede Variable
aus der durch Komma separierten \PName{Variablenliste} ausgeführt. Dabei wird
der Name der jeweiligen Variablen als Argument an den \PName{Befehl}
angehängt.

Die Anweisung \Macro{foreachnonemptykomavar} führt im Unterschied dazu
\PName{Befehl} nur aus, wenn die Variable im Sinne von
\DescRef{\LabelBase.cmd.ifkomavarempty} nicht leer ist. Leere Variablen in der
\PName{Variablenliste} haben dagegen keine Auswirkungen.

Dagegen führt \Macro{foreachemptykomavar} den \PName{Befehl} aus, wenn die
Variable im Sinne von \DescRef{\LabelBase.cmd.ifkomavarempty} leer ist. Nicht
leere Variablen in der \PName{Variablenliste} haben entsprechend keine
Auswirkungen.

Die Anweisung \Macro{foreachkomavarifempty} ist quasi eine Verschmelzung
beider vorgenannten. Sie führt \PName{Dann-Befehl} für alle leeren Variablen
aus, während \PName{Sonst-Befehl} für die nicht leeren Variablen zur Anwendung
kommt. Wie bei \PName{Befehl} wird in beiden Fällen der Name der jeweiligen
Variable als Argument angehängt.%
\EndIndexGroup
%
\EndIndexGroup


\section{Ergänzende Informationen zu den Seitenstilen}
\seclabel{pagestyleatscrletter}
\BeginIndexGroup
\BeginIndex{}{Seiten>Stil}

\LoadNonFree{scrlttr2-experts}{0}%
\EndIndexGroup

\iffalse% Wurde bereits in Kapitel 4.21 behandelt
\section{Unterschiede in der Behandlung von \File{lco}-Dateien bei
  \Package{scrletter}}
\seclabel{lcoatscrletter}
\BeginIndexGroup
\BeginIndex{File}{lco}
\BeginIndex{}{lco-Datei=\File{lco}-Datei}

In\ChangedAt{v3.15}{\Package{scrletter}} \autoref{sec:scrlttr2.lcoFile} wurde
erklärt, dass man \File{lco}-Dateien direkt über \Macro{documentclass} laden
kann. Für \Package{scrletter}\OnlyAt{\Package{scrlttr2}} wurde auf diese
Möglichkeit verzichtet.

\begin{Declaration}
  \Macro{LoadLetterOption}\Parameter{Name}
  \Macro{LoadLetterOptions}\Parameter{Liste von Namen}
\end{Declaration}
Während für \Class{scrlttr2} lediglich empfohlen wird, \File{lco}-Dateien über
\DescRef{scrlttr2.cmd.LoadLetterOption} oder
\DescRef{scrlttr2.cmd.LoadLetterOptions} zu laden, ist dies für
\Package{scrletter} zwingend. Natürlich können die \File{lco}-Dateien auch
erst nach \Package{scrletter} geladen werden.
%
\EndIndexGroup
%
\EndIndexGroup
%
\fi


\section{\File{lco}-Dateien für fortgeschrittene Anwender}
\seclabel{lcoFile}
\BeginIndexGroup
\BeginIndex{File}{lco}
\BeginIndex{}{lco-Datei=\File{lco}-Datei}

\BeginIndexGroup%
\BeginIndex{}{Papier>Format}%
Obwohl jedes von \hyperref[cha:typearea]{\Package{typearea}}%
\IndexPackage{typearea} einstellbare Format verwendbar ist, kann es bei der
Ausgabe der ersten Briefseite mit manchen Formaten zu unerwünschten
Ergebnissen kommen. Leider gibt es
keine allgemein gültigen Regeln, um die Position von Anschriftfeldern und
Ähnlichem für beliebige Papierformate zu berechnen. Vielmehr werden für
unterschiedliche Papierformate unterschiedliche Parameter benötigt.%

%\subsection{Überwachung des Papierformats}
%\seclabel{papersize}

Derzeit existieren Parametersätze und \File{lco}-Dateien für A4-Papier und
letter-Papier. Die Klasse \Class{scrlttr2} versteht aber theoretisch sehr viel
mehr Papierformate. Daher ist es notwendig zu überwachen, ob die korrekte
Papiergröße eingestellt ist. Dies gilt umso mehr, wenn \Package{scrletter}
verwendet wird, da die Einstellung der Papiergröße dann in erster Linie von
der verwendeten Klasse abhängt.

\begin{Declaration}
  \Macro{LetterOptionNeedsPapersize}%
    \Parameter{Optionsname}\Parameter{Papiergröße}
\end{Declaration}
Damit man bei Verwendung einer in der \File{lco}-Datei nicht vorgesehenen
\PName{Papiergröße} zumindest gewarnt wird, sind in den
mit \KOMAScript{} ausgelieferten \File{lco}-Dateien
\Macro{LetterOptionNeedsPapersize}-Anweisungen zu finden. Als erstes Argument
wird dabei der Name der \File{lco}-Datei ohne die Endung »\File{.lco}«
übergeben. Als zweites Argument wird die Papiergröße übergeben, für die diese
\File{lco}-Datei gedacht ist.

Werden nacheinander mehrere \File{lco}-Dateien geladen, so kann jede dieser
\File{lco}-Dateien eine Anweisung \Macro{LetterOptionNeedsPapersize}
enthalten. Innerhalb von \DescRef{scrlttr2.cmd.opening}\IndexCmd{opening} wird
jedoch nur auf die jeweils letzte angegebene \PName{Papiergröße} geprüft. Wie
das nachfolgende Beispiel zeigt, ist es daher für den versierten Anwender
leicht möglich, \File{lco}-Dateien mit Parametersätzen für andere
Papierformate zu schreiben. %
\iffalse% Umbruchoptimierung!!!
Wer allerdings nicht vor hat, selbst solche \File{lco}-Dateien zu schreiben,
der kann die Erklärung zu dieser Anweisung gleich wieder vergessen und auch
das Beispiel überspringen.%
\fi
\begin{Example}
  Nehmen wir einmal an, dass Sie A5-Papier in normaler Ausrichtung, also
  hochkant oder portrait, für Ihre Briefe verwenden. Nehmen wir weiter an,
  dass Sie diese in normale Fensterbriefumschläge im Format C6 stecken. Damit
  wäre prinzipiell die Position des Adressfeldes die gleiche wie bei einem
  normalen Brief in A4 nach DIN. Der Unterschied besteht im Wesentlichen
  darin, dass das A5-Papier nur einmal gefaltet werden muss. Sie wollen
  deshalb verhindern, dass die obere und die untere Faltmarke gesetzt
  wird. Dies erreichen Sie beispielsweise, indem Sie die Marken außerhalb des
  Papiers platzieren.
\begin{lstcode}
  \ProvidesFile{a5.lco}
               [2002/05/02 letter class option]
  \LetterOptionNeedsPapersize{a5}{a5}
  \setplength{tfoldmarkvpos}{\paperheight}
  \setplength{bfoldmarkvpos}{\paperheight}
  \endinput
\end{lstcode}
  Eleganter wäre es natürlich, die Marken mit Hilfe der Option
  \DescRef{scrlttr2.option.foldmarks} abzuschalten.  Außerdem muss auch noch
  die Position des Seitenfußes, also die Pseudolänge \PLength{firstfootvpos},
  angepasst werden. Ich überlasse es dem Leser, dafür einen geeigneten Wert zu
  ermitteln. Mit einer solchen \File{lco}-Datei ist es lediglich wichtig, dass
  andere \File{lco}-Dateioptionen wie \File{SN} vor dem Laden von
  »\File{a5.lco}«, angegeben werden.
\end{Example}
%
\EndIndexGroup%
\EndIndexGroup%
\vskip-\ht\strutbox% Wegen Beispiel am Ende der Erklärung


%\subsection{Positionen sichtbar machen}
%\seclabel{visualize}
%\BeginIndexGroup
\begin{Declaration}
  \File{visualize.lco}
\end{Declaration}
\BeginIndex{Option}{visualize}%
Wenn man selbst \File{lco}-Dateien entwickelt, beispielsweise um die
Positionen von verschiedenen Feldern des Briefbogens an eigene Wünsche oder
Notwendigkeiten anzupassen, ist es hilfreich, wenn zumindest einige Elemente
direkt sichtbar gemacht werden können. Zu diesem Zweck existiert die
\File{lco}-Datei
\File{visualize.lco}\ChangedAt{v3.04}{\Class{scrlttr2}}. Diese kann wie jede
\File{lco}-Datei geladen werden. Allerdings ist das Laden dieser \emph{Letter
  Class Option} auf die Dokumentpräambel beschränkt und seine Auswirkungen
können nicht wieder rückgängig gemacht werden. Die \File{lco}-Datei bedient
sich der Pakete
\Package{eso-pic}\IndexPackage{eso-pic}%
\important[i]{\Package{eso-pic}\\\Package{graphicx}}
und \Package{graphicx}\IndexPackage{graphicx}, die nicht zu \KOMAScript{}
gehören.

\begin{Declaration}
  \Macro{showfields}\Parameter{Feldliste}
\end{Declaration}
Mit dieser Anweisung kann bei Verwendung von \File{visualize.lco} die
Visualisierung von Feldern des Briefbogens aktiviert werden. Das Argument
\PName{Feldliste} ist dabei eine durch Komma separierte Liste der Feldern, die
visualisiert werden sollen. Folgende Felder werden derzeit unterstützt:
\begin{labeling}[~--]{\PValue{location}}
\item[\PValue{test}] ist ein Testfeld der Größe 10\Unit{cm} auf 15\Unit{cm},
  das jeweils 1\Unit{cm} vom oberen und linken Papierrand entfernt ist. Dieses
  Testfeld existiert zu Debuggingzwecken. Es dient als Vergleichsmaß für den
  Fall, dass im Dokumenterstellungsprozess die Maße verfälscht werden.
\item[\PValue{head}] ist der Kopfbereich des Briefbogens. Es handelt sich hier
  um ein nach unten offenes Feld.
\item[\PValue{foot}] ist der Fußbereich des Briefbogens. Es handelt sich hier
  um ein nach unten offenes Feld.
\item[\PValue{address}] ist das Anschriftfenster.
\item[\PValue{location}] ist das Feld der Absenderergänzung.
\item[\PValue{refline}] ist die Geschäftszeile. Es handelt sich hier um ein
  nach unten offenes Feld.
\end{labeling}%
\BeginIndex{FontElement}{field}\LabelFontElement{field}%
Mit den Anweisungen \DescRef{scrlttr2.cmd.setkomafont} und
\DescRef{scrlttr2.cmd.addtokomafont} (siehe \autoref{sec:scrlttr2.textmarkup},
\DescPageRef{scrlttr2.cmd.setkomafont}) für das Element
\FontElement{field}\important{\FontElement{field}} kann die Farbe der
Visualisierung geändert werden. Voreingestellt ist \Macro{normalcolor}.%
\EndIndex{FontElement}{field}%
%
\EndIndexGroup


\begin{Declaration}
  \Macro{setshowstyle}\Parameter{Stil}
  \Macro{edgesize}
\end{Declaration}
In der Voreinstellung werden von \File{visualize.lco} die einzelnen Felder
durch Rahmen\important{\PValue{frame}} markiert. Dies entspricht dem
\PName{Stil} \PValue{frame}. Nach unten offene Felder werden dabei nicht
komplett umrahmt, sondern unten offen mit kleinen Pfeilen nach unten
dargestellt. Als Alternative\important{\PValue{rule}} hierzu steht auch der
\PName{Stil} \PValue{rule} zur Verfügung. Dabei wird das Feld farbig
hinterlegt. Hierbei kann nicht zwischen geschlossenen und nach unten offenen
Feldern unterschieden werden. Stattdessen werden nach unten offene Felder mit
einer Mindesthöhe dargestellt. Der dritte\important{\PValue{edges}} verfügbare
\PName{Stil} ist \PValue{edges}. Dabei werden die Ecken der Felder
markiert. Bei nach unten offenen Feldern entfallen dabei die unteren
Eckmarkierungen. Die Größe der Eckmarkierungen ist im Makro \Macro{edgesize}
abgelegt und mit 1\Unit{ex} voreingestellt.%
\EndIndexGroup


\begin{Declaration}
  \Macro{showenvelope}\AParameter{Breite\textup{,}Höhe}
                      \AParameter{HOffset\textup{,}VOffset}
                      \OParameter{Zusatz}
  \Macro{showISOenvelope}\Parameter{Format}\OParameter{Zusatz}
  \Macro{showUScommercial}\Parameter{Format}\OParameter{Zusatz}
  \Macro{showUScheck}\OParameter{Zusatz}
  \Macro{unitfactor}
\end{Declaration}
Diese Anweisungen dienen bei Verwendung von \File{visualize.lco} dazu, eine
Seite mit einer Zeichnung eines Umschlags auszugeben. Der Umschlag wird dabei
immer um 90° gedreht auf einer eigenen Seite im Maßstab~1:1 ausgegeben. Das
Anschriftfenster wird automatisch aus den aktuellen Daten für die
Anschriftposition auf dem Briefbogen: \PLength{toaddrvpos},
\PLength{toaddrheight}, \PLength{toaddrwidth} und \PLength{toaddrhpos},
erzeugt. Hierfür ist es notwendig zu wissen, um welchen Wert der gefaltete
Briefbogen auf jeder Seite kleiner als die \PName{Breite} und \PName{Höhe} des
Briefbogens ist. Sind diese beiden Werte, \PName{HOffset} und \PName{VOffset},
bei \Macro{showenvelope} nicht angegeben, so wird versucht, sie aus den
Faltmarken und der Papiergröße selbst zu berechnen.

Die Anweisungen \Macro{showISOenvelope}, \Macro{showUScommercial} und
\Macro{showUScheck} basieren auf \Macro{showenvelope}. Mit
\Macro{showISOenvelope} kann ein ISO-Umschlag im \PName{Format} C4, C5, C5/6,
DL\iffree{ (auch bekannt als C5/6)}{} oder C6 erzeugt werden. Mit
\Macro{showUScommercial} wird hingegen ein US-Commercial-Umschlag im
\PName{Format} 9 oder 10 ausgegeben. \Macro{showUScheck} schließlich ist für
Umschläge im US-Check-Format zuständig.

\BeginIndex{FontElement}{letter}\LabelFontElement{letter}%
Innerhalb des Umschlags wird die Lage des Briefbogens gestrichelt
angedeutet. Die dabei verwendete Farbe kann mit Hilfe der Anweisungen
\DescRef{scrlttr2.cmd.setkomafont} und \DescRef{scrlttr2.cmd.addtokomafont}
(siehe \autoref{sec:scrlttr2.textmarkup},
\DescPageRef{scrlttr2.cmd.setkomafont}) für das Element
\FontElement{letter}\important{\FontElement{letter}} verändert
werden. Voreingestellt ist \Macro{normalcolor}.%
\EndIndex{FontElement}{letter}

\BeginIndex{FontElement}{measure}\LabelFontElement{measure}%
Die Umschlagzeichnung wird automatisch bemaßt. Die Farbe der Bemaßung und die
Größe deren Beschriftung kann mit Hilfe der Anweisungen
\DescRef{scrlttr2.cmd.setkomafont} und \DescRef{scrlttr2.cmd.addtokomafont}
(siehe \autoref{sec:scrlttr2.textmarkup},
\DescPageRef{scrlttr2.cmd.setkomafont}) für das Element
\FontElement{measure}\important{\FontElement{measure}} verändert
werden. Voreingestellt ist hier \Macro{normalcolor}. Die Bemaßung erfolgt in
Vielfachen von \Length{unitlength} mit einer maximalen Genauigkeit von
$1/\Macro{unitfactor}$, wobei die Genauigkeit der \TeX-Arithmetik die
tatsächliche Grenze darstellt. Voreingestellt ist 1. Eine Umdefinierung ist
mit \Macro{renewcommand} möglich.%
\EndIndex{FontElement}{measure}

\begin{Example}
  Es wird ein Beispielbrief im Format ISO~A4 erzeugt. Die unterstützten Felder
  sollen zwecks Überprüfung ihrer Position mit gelben Rahmenlinien markiert
  werden. Des Weiteren soll die Position des Fensters in einem Umschlag der
  Größe~DL mit Hilfe einer Zeichnung überprüft werden. Die Maßlinien in dieser
  Zeichnung sollen rot und die Maßzahlen in kleinerer Schrift ausgegeben
  werden, wobei die Maßzahlen in cm mit einer Genauigkeit von 1\Unit{mm}
  ausgegeben werden sollen. Der gestrichelte Briefbogen im Umschlag soll
  hingegen grün eingefärbt werden.
\begin{lstcode}
  \documentclass[visualize]{scrlttr2}
  \usepackage{xcolor}
  \setkomafont{field}{\color{yellow}}
  \setkomafont{measure}{\color{red}\small}
  \setkomafont{letter}{\color{green}}
  \showfields{head,address,location,refline,foot}
  \usepackage[ngerman]{babel}
  \usepackage{lipsum}
  \begin{document}
  \setkomavar{fromname}{Peter Musterfrau}
  \setkomavar{fromaddress}{Hinter dem Tal 2\\
                           54321 Musterheim}
  \begin{letter}{%
      Petra Mustermann\\
      Vor dem Berg 1\\
      12345 Musterhausen%
    }
  \opening{Hallo,}
  \lipsum[1]
  \closing{Bis dann}
  \end{letter}
  \setlength{\unitlength}{1cm}
  \renewcommand*{\unitfactor}{10}
  \showISOenvelope{DL}
  \end{document}
\end{lstcode}
  Auf der ersten Seite findet sich nun der Briefbogen, auf der zweiten Seite
  wird die Zeichnung des Umschlags ausgegeben.
\end{Example}

Bezüglich der Bemaßung ist zu beachten, dass ungünstige Kombinationen von
\Length{unitlength} und \Macro{unitfactor} sehr schnell einen \TeX-Fehler der
Art \emph{arithmetic overflow} provozieren. Ebenso kann es geschehen, dass
ausgegebene Maßzahlen geringfügig vom tatsächlichen Wert abweichen. Beides
sind keine Fehler von \Option{visualize}, sondern lediglich
Implementierungsgrenzen.
%
\EndIndexGroup
%
\EndIndexGroup
%
\EndIndexGroup


\section{Unterstützung verschiedener Sprachen}
\seclabel{languages}%
\BeginIndexGroup%
\BeginIndex{}{Sprachen}%
Die Klasse \Class{scrlttr2} und das Paket \Package{scrletter} unterstützen
viele Sprachen. Dazu zählen Deutsch (\PValue{german} für alte deutsche
Rechtschreibung, \PValue{ngerman} für neue deutsche Rechtschreibung,
\PValue{austrian} für Österreichisch mit alter deutscher Rechtschreibung und
\PValue{naustrian}\ChangedAt{v3.09}{\Class{scrlttr2}} für Österreichisch mit
neuer deutscher Rechtschreibung),
\PValue{nswissgerman}\ChangedAt{v3.13}{\Class{scrlttr2}} für Schweizer Deutsch
mit neuer Rechtschreibung und \PValue{swissgerman} für Schweizer Deutsch mit
alter Rechtschreibung, Englisch (unter anderem \PValue{english} ohne Angabe,
ob amerikanisches oder britisches Englisch, \PValue{american} und
\PValue{USenglish} für Amerikanisch, \PValue{british} und \PValue{UKenglish}
für Britisch), Französisch, Italienisch, Spanisch, Niederländisch, Kroatisch,
Finnisch, Norwegisch\ChangedAt{v3.02}{\Class{scrlttr2}},
Schwedisch\ChangedAt{v3.08}{\Class{scrlttr2}},
Polnisch\ChangedAt{v3.13}{\Class{scrlttr2}},
Tschechisch\ChangedAt{v3.13}{\Class{scrlttr2}} und Slowakisch.

Zwischen den Sprachen wird bei Verwendung des
\Package{babel}-Pakets\IndexPackage{babel} (siehe \cite{package:babel}) mit
der Anweisung \Macro{selectlanguage}\Parameter{Sprache} gewechselt. Andere
Pakete wie \Package{german}\IndexPackage{german} (siehe \cite{package:german})
und \Package{ngerman}\IndexPackage{ngerman} (siehe \cite{package:ngerman})
besitzen diese Anweisung ebenfalls. In der Regel erfolgt eine
Sprachumschaltung jedoch bereits aufgrund des Ladens eines solchen Pakets.
\iffalse% Umbruchkorrekturtext!!!
Näheres entnehmen Sie bitte der jeweiligen Anleitung.
\fi

Erlauben\textnote{Achtung!} Sie mir noch einen Hinweis zu den
Sprachumschaltpaketen. Das Paket
\Package{french}\IndexPackage{french}\important{\Package{french}} (siehe
\cite{package:french}) nimmt neben der Umdefinierung der Begriffe aus
\autoref{tab:scrlttr2-experts.languageTerms},
\autopageref{tab:scrlttr2-experts.languageTerms} weitere Änderungen vor. So
definiert es etwa die Anweisung \DescRef{scrlttr2.cmd.opening} um. Dabei geht
es einfach davon aus, dass \DescRef{scrlttr2.cmd.opening} immer wie in der
Standardbriefklasse \Class{letter} definiert ist. Dies ist bei \KOMAScript{}
jedoch nicht der Fall. Das Paket \Package{french} zerstört deshalb die
Definition und arbeitet nicht korrekt mir \KOMAScript{} zusammen. Ich
betrachte dies als Fehler des Pakets \Package{french}, der obwohl schon vor
Jahrzehnten gemeldet, leider nie beseitigt wurde.
  
Wird das Paket \Package{babel}\IndexPackage{babel} für die
Umschaltung auf die Sprache verwendet, können vereinzelt ebenfalls
Probleme auftreten. Bei \Package{babel} lassen sich problematisch Änderungen
einer Sprache jedoch meist gezielt abschalten.%
\iffalse% Das ist eigentlich überholt!
\ Ist das Paket \Package{french} nicht installiert, ergibt sich das Problem
  mit \Package{babel} nicht.  Ebenfalls existiert das Problem normalerweise
  nicht, wenn man bei \Package{babel} anstelle der Sprache \PValue{french}
  eine der Sprachen \PValue{acadian}, \PValue{canadien} oder \PValue{francais}
  verwendet.
\fi

\iffalse% Das ist ebenfalls überholt!
Mit Babel ab Version 3.7j tritt dieses Problem jedoch nur noch auf, wenn per
Option explizit angegeben wird, dass \Package{babel} das
\Package{french}-Paket verwenden soll.
%
\iftrue
  % Umbruchoptimierungspassage
  Kann nicht sicher gestellt werden, dass nicht eine alte Version von
  \Package{babel} verwendet wird, so empfehle ich%
  \iftrue
    , mit
\begin{lstcode}
  \usepackage[...,francais,...]{babel}
\end{lstcode}
    französische Sprache auszuwählen. 
    \iffalse %
      Gegebenenfalls ist dann aber trotzdem  mit
      \Macro{selectlanguage}\PParameter{french} auf Französisch umzuschalten.%
    \fi%
  \else %
    \space bei \Package{babel} die Option \Option{frenchb}.%
  \fi 
\fi
\fi  

\iftrue
  %\enlargethispage*{\baselineskip}%
  Es ist nicht auszuschließen, dass mit anderen Sprachen und Paketen ähnliche
  Probleme auf"|treten.
%  \iffalse
  \iftrue 
    Für Deutsch sind solche Probleme jedoch nicht bekannt  und treten weder
    mit den Paketen \Package{german}\IndexPackage{german} oder
    \Package{ngerman}\IndexPackage{ngerman} noch mit \Package{babel} auf.
  \else
    Für Deutsch treten solche Probleme mit den Paketen
    \Package{german}\IndexPackage{german},
    \Package{ngerman}\IndexPackage{ngerman} oder \Package{babel} jedoch nicht
    auf.
  \fi
%  \fi
\fi

% Hinweis: Der folgende Block kann je nach Umbruch vor oder nach
%          \captions... und \date... (aber bitte nicht dazwischen) stehen.
\begin{Declaration}
  \Macro{yourrefname}
  \Macro{yourmailname}
  \Macro{myrefname}
  \Macro{customername}
  \Macro{invoicename}
  \Macro{subjectname}
  \Macro{ccname}
  \Macro{enclname}
  \Macro{headtoname}
  \Macro{headfromname}
  \Macro{datename}
  \Macro{pagename}
  \Macro{mobilephonename}
  \Macro{phonename}
  \Macro{faxname}
  \Macro{emailname}
  \Macro{wwwname}
  \Macro{bankname}
\end{Declaration}
Die aufgeführten Anweisungen enthalten die jeweiligen sprachtypischen
Begriffe. Diese\important[i]{%
  \DescRef{scrbase.cmd.newcaptionname}\\
  \DescRef{scrbase.cmd.renewcaptionname}\\
  \DescRef{scrbase.cmd.providecaptionname}} können für die Realisierung einer
weiteren Sprache oder aber auch zur eigenen freien Gestaltung wie in
\autoref{sec:scrbase.languageSupport} erklärt angepasst werden. Von
\KOMAScript{} werden die Begriffe erst nach der Präambel, also bei
\Macro{begin}\PParameter{document} gesetzt. Sie sind daher vorher nicht
verfügbar und können vorher auch nicht geändert werden. In
\autoref{tab:scrlttr2-experts.languageTerms},
\autopageref{tab:scrlttr2-experts.languageTerms} sind die Voreinstellungen
für \Option{english} und \Option{ngerman} zu finden.%
\EndIndexGroup
%\iffree{}{\clearpage}% Siehe Kommentar zur Tabelle

\begin{Declaration}
  \Macro{captionsacadian}
  \Macro{captionsamerican}
  \Macro{captionsaustralien}
  \Macro{captionsaustrian}
  \Macro{captionsbritish}
  \Macro{captionscanadian}
  \Macro{captionscanadien}
  \Macro{captionscroatian}
  \Macro{captionsczech}
  \Macro{captionsdutch}
  \Macro{captionsenglish}
  \Macro{captionsfinnish}
  \Macro{captionsfrancais}
  \Macro{captionsfrench}
  \Macro{captionsgerman}
  \Macro{captionsitalian}
  \Macro{captionsnaustrian}
  \Macro{captionsnewzealand}
  \Macro{captionsngerman}
  \Macro{captionsnorsk}
  \Macro{captionsnswissgerman}
  \Macro{captionspolish}
  \Macro{captionsslovak}
  \Macro{captionsspanish}
  \Macro{captionsswedish}
  \Macro{captionsswissgerman}
  \Macro{captionsUKenglish}
  \Macro{captionsUSenglish}
\end{Declaration}
Wird die Sprache eines Briefes gewechselt, so werden über diese
Anweisungen die Begriffe aus \autoref{tab:scrlttr2-experts.languageTerms},
\autopageref{tab:scrlttr2-experts.languageTerms} umdefiniert. Sollte das
verwendete Sprachumschaltpaket dies nicht unterstützen, so können obige
Anweisungen notfalls auch direkt verwendet werden.%
%
\begin{table}%
  \begin{minipage}{\textwidth}
%  \centering
    \KOMAoptions{captions=topbeside}%
    \setcapindent{0pt}%
    %\caption
    \begin{captionbeside}[{%
        Voreinstellungen für die sprachabhängigen Begriffe%
      }]{%
        Voreinstellungen
        für die sprachabhängigen Begriffe bei \iffalse Verwendung der \else
        den \fi Sprachen
        \Option{english} und \Option{ngerman} soweit nicht durch die Pakete
        zur Sprachumschaltung bereits definiert%
        \label{tab:scrlttr2-experts.languageTerms}%
      }[l]
      \begin{tabular}[t]{lll}
        \toprule
        Anweisung         & \Option{english} & \Option{ngerman} \\
        \midrule
        \Macro{bankname}     & Bank account   & Bankverbindung \\
        \Macro{ccname}\footnotemark[1]       & cc             & Kopien an \\
        \Macro{customername} & Customer no.   & Kundennummer \\
        \Macro{datename}     & Date           & Datum \\
        \Macro{emailname}    & Email          & E-Mail \\
        \Macro{enclname}\footnotemark[1]     & encl           & Anlagen \\
        \Macro{faxname}      & Fax            & Fax \\
        \Macro{headfromname} & From           & Von \\
        \Macro{headtoname}\footnotemark[1]   & To             & An \\
        \Macro{invoicename}  & Invoice no.    & Rechnungsnummer \\
        \Macro{myrefname}    & Our ref.       & Unser Zeichen \\
        \Macro{pagename}\footnotemark[1]     & Page           & Seite \\
        \Macro{mobilephonename} & Mobile phone & Mobiltelefon \\
        \Macro{phonename}    & Phone          & Telefon \\
        \Macro{subjectname}  & Subject        & Betrifft \\
        \Macro{wwwname}      & Url            & URL \\
        \Macro{yourmailname} & Your letter of & Ihr Schreiben vom\\
        \Macro{yourrefname}  & Your ref.      & Ihr Zeichen \\
        \bottomrule
      \end{tabular}
      \deffootnote{1em}{1em}{1\ }% brutal aber effektiv
      \footnotetext[1000]{Diese Begriffe werden normalerweise bereits von
        Sprachpaketen wie \Package{babel} definiert und dann von
        \KOMAScript{} nicht überschrieben. Abweichungen im Wortlaut sind
        daher möglich und der Anleitung des verwendeten Sprachpakets zu
        entnehmen.}
    \end{captionbeside}
  \end{minipage}
\end{table}
%
\EndIndexGroup
\iffree{}{\clearpage}% Umbruchkorrektur


\begin{Declaration}
  \Macro{dateacadian}
  \Macro{dateamerican}
  \Macro{dateaustralien}
  \Macro{dateaustrian}
  \Macro{datebritish}
  \Macro{datecanadian}
  \Macro{datecanadien}
  \Macro{datecroatian}
  \Macro{dateczech}
  \Macro{datedutch}
  \Macro{dateenglish}
  \Macro{datefinnish}
  \Macro{datefrancais}
  \Macro{datefrench}
  \Macro{dategerman}
  \Macro{dateitalian}
  \Macro{datenaustrian}
  \Macro{datenewzealand}
  \Macro{datengerman}
  \Macro{datenorsk}
  \Macro{datenswissgerman}
  \Macro{datepolish}
  \Macro{dateslovak}
  \Macro{datespanish}
  \Macro{dateswedish}
  \Macro{dateswissgerman}  
  \Macro{dateUKenglish}
  \Macro{dateUSenglish}
\end{Declaration}
Je nach verwendeter Sprache werden auch die Datumsangaben\Index{Datum} des
nummerischen Datums (siehe Option \DescRef{scrlttr2.option.numericaldate} in
\autoref{sec:scrlttr2.firstpage}, \DescPageRef{scrlttr2.option.numericaldate})
in unterschiedlicher Form umgesetzt. Die genauen Angaben können
\autoref{tab:date}, \autopageref{tab:date} entnommen werden.%
\EndIndexGroup
%
\EndIndexGroup
\iffree{}{\clearpage}% Umbruchkorrektur zwecks Ausgabe der Tabellen

\begin{table}[!tp]% Umbruchoptimierung
%  \centering
  \KOMAoptions{captions=topbeside}%
  \setcapindent{0pt}%
%  \caption
  \begin{captionbeside}{Sprachabhängige Ausgabeformate für das Datum}[l]
    \begin{tabular}[t]{ll}
      \toprule
      Anweisung             & Ausgabebeispiel \\
      \midrule
      \Macro{dateacadian}   & 24.\,12.\,1993\\
      \Macro{dateamerican}  & 12/24/1993\\
      \Macro{dateaustralien}& 24/12/1993\\
      \Macro{dateaustrian}  & 24.\,12.\,1993\\
      \Macro{datebritish}   & 24/12/1993\\
      \Macro{datecanadian}  & 1993/12/24\\
      \Macro{datecanadien}  & 1993/12/24\\
      \Macro{datecroatian}  & 24.\,12.\,1993.\\
      \Macro{dateczech}     & 24.\,12.\,1993\\
      \Macro{datedutch}     & 24.\,12.\,1993\\
      \Macro{dateenglish}   & 24/12/1993\\
      \Macro{datefinnish }  & 24.12.1993.\\
      \Macro{datefrancais}  & 24.\,12.\,1993\\
      \Macro{datefrench}    & 24.\,12.\,1993\\
      \Macro{dategerman}    & 24.\,12.\,1993\\
      \Macro{dateitalian}   & 24.\,12.\,1993\\
      \Macro{datenaustrian} & 24.\,12.\,1993\\
      \Macro{datenewzealand}& 24/12/1993\\
      \Macro{datengerman}   & 24.\,12.\,1993\\
      \Macro{datenorsk}     & 24.12.1993\\
      \Macro{datenswissgerman}   & 24.\,12.\,1993\\
      \Macro{datepolish}    & 24.\,12.\,1993\\
      \Macro{dateslovak}    & 24.\,12.\,1993\\
      \Macro{datespanish}   & 24.\,12.\,1993\\
      \Macro{dateswedish}   & 24/12 1993\\
      \Macro{dateswissgerman}    & 24.\,12.\,1993\\
      \Macro{dateUKenglish} & 24/12/1993\\
      \Macro{dateUSenglish} & 12/24/1993\\
      \bottomrule
    \end{tabular}
  \end{captionbeside}
  \label{tab:date}
\end{table}
%
\section{Obsolete Anweisungen von \Class{scrlttr2}}
\seclabel{obsolete}
\BeginIndexGroup

\LoadNonFree{scrlttr2-experts}{1}
\EndIndexGroup
%
\iffalse% Es wird Zeit das komplett rauszuwerfen!
\section{Von der obsoleten \Class{scrlettr} zur 
aktuellen  \Class{scrlttr2}}
\seclabel{fromscrlettr}
\BeginIndexGroup
\BeginIndex{Class}{scrlettr}

Die\textnote{Achtung!} alte Briefklasse \Class{scrlettr} wurde mit Einführung
von \Class{scrlttr2} (siehe \autoref{cha:scrlttr2}) 2002
obsolet und ist auch nicht mehr Bestandteil von \KOMAScript{}. Wer die Klasse
oder Informationen dazu dennoch benötigt, findet sie in
\cite{package:koma-script-obsolete}.

Um den Umstieg von der alten auf die neue Klasse zu erleichtern, existiert mit
\Option{KOMAold} eine Kompatibilitätseinstellung. Grundsätzlich ist in der
neuen Klasse die gesamte alte Funktionalität enthalten. Ohne \Option{KOMAold}
ist jedoch die Benutzerschnittstelle eine andere und auch die Voreinstellungen
stimmen nicht überein. Näheres dazu ist \autoref{sec:scrlttr2.lcoFile},
\autoref{tab:lcoFiles} zu entnehmen.

\LoadNonFree{scrlttr2-experts}{2}
%
\EndIndexGroup
\fi
%
\EndIndexGroup

\endinput

%%% Local Variables:
%%% mode: latex
%%% mode: flyspell
%%% coding: utf-8
%%% ispell-local-dictionary: "de_DE"
%%% TeX-master: "guide.tex"
%%% End:

% LocalWords:  Pseudolänge Pseudolängen Rücksendeadresse Faltmarke Briefseite
% LocalWords:  Sternvariante Geschäftszeile Testfeld Kopfbereich Vergleichsmaß
% LocalWords:  Dokumenterstellungsprozess Fußbereich Anschriftfenster Falt
% LocalWords:  Absenderergänzung Kundennummer Rechnungsnummer Falzmarken
% LocalWords:  Sprachumschaltpaketen Standardbriefklasse Seitenstilen
% LocalWords:  Paginierung Paginierungen Papiergröße Anschriftfeldes
%  LocalWords:  Versandart Anschriftfensters Anschriftfeld Briefköpfe
%  LocalWords:  Variableninhalt Schlussgruß Briefbogenfuß
